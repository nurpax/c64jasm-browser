(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports={heading:"Editor_heading__3jsuC",layoutContainer:"Editor_layoutContainer__2bFri",editorContainer:"Editor_editorContainer__1wXnR",textarea:"Editor_textarea__28EdL",textareaHighlightOverlay:"Editor_textareaHighlightOverlay__1opTU",textareaHighlightRow:"Editor_textareaHighlightRow__1R6Ia",textareaHighlightRowCurrent:"Editor_textareaHighlightRowCurrent__25KL2",highlightError:"Editor_highlightError__1YeA5",gutter:"Editor_gutter__3CDcX",gutterRow:"Editor_gutterRow__1DNMN",gutterRowSelected:"Editor_gutterRowSelected__3GiGf"}},function(e,t,n){e.exports={container:"SourceTabs_container__2NQsa",tabContainer:"SourceTabs_tabContainer__2X9q3",gistContainer:"SourceTabs_gistContainer__1hQke",gistInputContainer:"SourceTabs_gistInputContainer__fGFjd",tab:"SourceTabs_tab__2FK_a",active:"SourceTabs_active__1mZcV",gistLoadButtonContainer:"SourceTabs_gistLoadButtonContainer__3NcSa",loadingText:"SourceTabs_loadingText__3UiVE"}},,function(e,t,n){e.exports={helpModalContainer:"Help_helpModalContainer__10bLm",helpContents:"Help_helpContents__3Cbr8",headingContainer:"Help_headingContainer__jN87w",emph:"Help_emph__29_7I",hidden:"Help_hidden__2fGZK",circleReveal:"Help_circleReveal__2igbG",circle:"Help_circle__2jpkq",maxWidth:"Help_maxWidth__3MUy2",closeButtonContainer:"Help_closeButtonContainer__1TIMT",asm:"Help_asm__1yYjY"}},function(e,t,n){e.exports={layoutContainer:"DiagnosticsList_layoutContainer__3Yxfa",diagnostics:"DiagnosticsList_diagnostics__U_t5K",heading:"DiagnosticsList_heading__f0lgX",diagnosticsBox:"DiagnosticsList_diagnosticsBox__NbaZi",diagItem:"DiagnosticsList_diagItem__3otDW",selected:"DiagnosticsList_selected__jbDsD",error:"DiagnosticsList_error__1cDSO"}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="\n!filescope c64\n!macro basic_start(addr) {\n* = $801\n    !byte $0c, $08, $00, $00, $9e\n    !for d in [10000, 1000, 100, 10, 1] {\n        !if (addr >= d) {\n            !byte $30 + (addr/d)%10\n        }\n    }\n    !byte 0, 0, 0\n}\n"},function(e,t,n){e.exports={heading:"Disasm_heading__2ZRjL",layoutContainer:"Disasm_layoutContainer__36ehI",disasmContainer:"Disasm_disasmContainer__2QplX",downloadButton:"Disasm_downloadButton__3MkkT"}},,,,,function(e,t,n){"use strict";function a(e,t){for(var n=e.split("\n"),a=0,r=0;r<t.start.line-1;r++)a+=n[r].length+1;return a+t.start.column-1}function r(e,t){for(var n=e.split("\n"),a=0,r=0;r<n.length;r++)if(t<(a+=n[r].length+1))return r}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},,,function(e,t,n){e.exports={buttonContainer:"CloseButton_buttonContainer__28ZWo",close:"CloseButton_close__1cumB"}},function(e,t,n){e.exports={navContainer:"App_navContainer__32B3M",appTitle:"App_appTitle__2SEQk"}},,,,,,,,function(e,t,n){"use strict";(function(e){var a=n(11),r=n(3),i=n(4),o=n(5),s=n(1),l=n(2),c=n(0),u=n.n(c),d=n(21),h=n(13),m=n(19),f=n(32),p=n(34),g=n(36),v=n(37),b=n(39),y=n(23),E=n.n(y),_={useWebWorkers:!0};function C(e){return u.a.createElement("span",{"aria-label":"emoji",role:"img"},e.emoji)}var x=function(t){function n(){var t,i;Object(r.a)(this,n);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return(i=Object(o.a)(this,(t=Object(s.a)(n)).call.apply(t,[this].concat(c)))).assemblerWorker=void 0,i.state={gist:{id:"",loadCount:0,loading:!1},sourceFiles:{selected:0,files:[{name:"main.asm",text:"",cursorOffset:0},{name:"c64.asm",text:h.a,cursorOffset:0}]},disassembly:[],prg:e.from([]),diagnosticsIndex:0,diagnostics:[],helpVisible:!1},i.setGistLoadingStatus=function(e){i.setState(function(t){return{gist:Object(a.a)({},t.gist,{loading:e})}})},i.loadGist=function(e){i.setGistLoadingStatus(!0),fetch("https://api.github.com/gists/".concat(e)).then(function(e){if(200!==e.status)throw new Error("Gist load failed with HTTP status code ".concat(e.status,": ").concat(e.statusText));return e}).then(function(e){return e.json()}).then(function(t){i.setGistLoadingStatus(!1),function(e,t){var n=new URLSearchParams(window.location.search);n.set(e,t),window.history.replaceState({},"",decodeURIComponent("".concat(window.location.pathname,"?").concat(n)))}("gist_id",e),i.setState(function(n){var r=[],i=0,o=!0,s=!1,l=void 0;try{for(var c,u=Object.values(t.files)[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;r.push({name:d.filename,text:d.content,cursorOffset:0}),"main.asm"===d.filename&&(i=r.length-1)}}catch(m){s=!0,l=m}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return r.push({name:"c64.asm",text:h.a,cursorOffset:0}),{gist:Object(a.a)({},n.gist,{gistId:e,loadCount:n.gist.loadCount+1}),sourceFiles:{files:r,selected:i}}},function(){return i.recompile()})}).catch(function(e){console.log(e),i.setState(function(e){return{gist:Object(a.a)({},e.gist,{loading:!1})}})})},i.getCurrentSource=function(){return i.state.sourceFiles.files[i.state.sourceFiles.selected]},i.updateCurrentSource=function(e,t,n){return Object(a.a)({},e,{files:e.files.map(function(r,i){return i===e.selected?Object(a.a)({},r,{text:t,cursorOffset:n}):r})})},i.handleWorkerMessage=function(e){0===e.data.diagnostics.length?i.setState({prg:e.data.prg,disassembly:e.data.disassembly,diagnostics:e.data.diagnostics}):i.setState({diagnostics:e.data.diagnostics})},i.handleKeyDown=function(e){"F4"===e.key&&(i.setState(function(t){return 0===t.diagnostics.length?{diagnosticsIndex:0}:void 0===t.diagnosticsIndex?{diagnosticsIndex:0}:e.shiftKey?{diagnosticsIndex:Math.max(0,t.diagnosticsIndex-1)}:{diagnosticsIndex:Math.min(t.diagnostics.length-1,t.diagnosticsIndex+1)}}),e.preventDefault()),"Escape"===e.key&&(i.setState({diagnosticsIndex:void 0,helpVisible:!1}),e.preventDefault())},i.handleOnClickDiagnostic=function(e){i.setState({diagnosticsIndex:e})},i.debouncedCompile=function(e,t){var n=void 0;return function(){for(var a=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=window.setTimeout(function(){return e.apply(a,i)},t)}}(function(e){_.useWebWorkers&&i.assemblerWorker&&i.assemblerWorker.postMessage(e)},250),i.recompile=function(){var e={},t=!0,n=!1,a=void 0;try{for(var r,o=i.state.sourceFiles.files[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e[s.name]=s.text}}catch(h){n=!0,a=h}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}if(_.useWebWorkers&&i.assemblerWorker)i.debouncedCompile({sourceFileMap:e}),i.setState({diagnosticsIndex:void 0});else{var l={readFileSync:function(t){if(t in e)return e[t];throw new Error("File not found ".concat(t))}},c=Object(d.assemble)("main.asm",l);if(0===c.errors.length){var u={isInstruction:c.debugInfo.info().isInstruction};i.setState({prg:c.prg,disassembly:Object(d.disassemble)(c.prg,u),diagnostics:[],diagnosticsIndex:void 0})}else i.setState({diagnostics:c.errors,diagnosticsIndex:void 0})}},i.handleSetSource=function(e,t){i.setState(function(n){return{sourceFiles:i.updateCurrentSource(n.sourceFiles,e,t)}},function(){return i.recompile()})},i.handleClearDiagnosticsSelectionOnKey=function(e){"F4"!==e.key&&"Shift"!==e.key&&void 0!==i.state.diagnosticsIndex&&i.setState({diagnosticsIndex:void 0})},i.handleClearDiagnosticsSelectionOnMouse=function(e){void 0!==i.state.diagnosticsIndex&&i.setState({diagnosticsIndex:void 0})},i.handleClickHelp=function(e){e.preventDefault(),i.setState({helpVisible:!0})},i.handleCloseHelp=function(){i.setState({helpVisible:!1})},i.handleSourceTabSelected=function(e){i.setState(function(t){return{sourceFiles:Object(a.a)({},t.sourceFiles,{selected:e})}})},i}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.handleKeyDown),this.assemblerWorker=new Worker("worker.js"),null!==this.assemblerWorker&&this.assemblerWorker.addEventListener("message",function(t){e.handleWorkerMessage(t)});var t=new URLSearchParams(window.location.search).get("gist_id");null!==t&&this.loadGist(t)}},{key:"render",value:function(){var e=this.state.diagnostics,t=void 0;if(0!==e.length&&void 0!==this.state.diagnosticsIndex){var n=e[this.state.diagnosticsIndex];t=Object(m.a)(this.getCurrentSource().text,n.loc)}return u.a.createElement("div",{id:"root"},u.a.createElement("nav",{id:"mainNav"},u.a.createElement("div",{className:E.a.navContainer},u.a.createElement("div",{className:E.a.appTitle},u.a.createElement("a",{href:"https://nurpax.github.io/c64jasm/"},"c64jasm")," online"),u.a.createElement("p",null,"A little experimental 6502 assembler for the C64"),u.a.createElement("p",null,u.a.createElement(C,{emoji:"\ud83d\udc49"})," ",u.a.createElement("a",{onClick:this.handleClickHelp,href:"/",target:"_blank"},"help")),u.a.createElement("p",null,u.a.createElement(C,{emoji:"\ud83d\udc49"})," ",u.a.createElement("a",{href:"https://github.com/nurpax/c64jasm-browser"},"source code")))),u.a.createElement("div",{onKeyDown:this.handleClearDiagnosticsSelectionOnKey,onMouseDown:this.handleClearDiagnosticsSelectionOnMouse,onMouseUp:this.handleClearDiagnosticsSelectionOnMouse,id:"mainCode"},u.a.createElement(f.a,{key:"".concat(this.state.gist.id,"/").concat(this.state.gist.loadCount,"/").concat(this.getCurrentSource().name),defaultValue:this.getCurrentSource().text,defaultCursorOffset:this.getCurrentSource().cursorOffset,onSourceChanged:this.handleSetSource,diagnostics:this.state.diagnostics,errorCharOffset:t})),u.a.createElement("div",{id:"siteDisasm"},u.a.createElement(p.a,{disassembly:this.state.disassembly,prg:this.state.prg})),u.a.createElement("div",{id:"mainSourceTabs"},u.a.createElement(v.a,{setSelected:this.handleSourceTabSelected,selected:this.state.sourceFiles.selected,files:this.state.sourceFiles.files,onLoadGist:this.loadGist,loadingGist:this.state.gist.loading})),u.a.createElement("div",{id:"mainDiag"},u.a.createElement(g.a,{onClickItem:this.handleOnClickDiagnostic,diagnostics:this.state.diagnostics,selectedIndex:this.state.diagnosticsIndex})),u.a.createElement(b.a,{visible:this.state.helpVisible,onClose:this.handleCloseHelp}))}}]),n}(u.a.Component);t.a=x}).call(this,n(25).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n(38),r=n(3),i=n(4),o=n(5),s=n(1),l=n(2),c=n(0),u=n.n(c),d=n(33),h=n.n(d),m=n(8),f=n.n(m),p=n(19),g=n(6),v=n.n(g);function b(e,t){b=function(e,t){return new o(e,t)};var n=Object(a.a)(RegExp),r=RegExp.prototype,i=new WeakMap;function o(e,t){var a=n.call(this,e);return i.set(a,t),a}function s(e,t){var n=i.get(t);return Object.keys(n).reduce(function(t,a){return t[a]=e[n[a]],t},Object.create(null))}return Object(l.a)(o,n),o.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=s(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var n=i.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"===typeof t){var a=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==typeof e[e.length-1]&&e.push(s(e,a)),t.apply(this,e)})}return r[Symbol.replace].call(this,e,t)},b.apply(this,arguments)}var y=4;function E(e,t){for(var n=0,a=0;a<t;a++){if(e.length<a)return;"\t"===e[a]?n+=y:n++}return n}function _(e){var t=0;if(!e.text)return null;var n=!0,a=!1,r=void 0;try{for(var i,o=e.text[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){"\t"===i.value?t+=y:t++}}catch(p){a=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}var s=Array(t).fill(!1),l=!0,d=!1,h=void 0;try{for(var m,f=e.errors[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value,g=E(e.text,p.start.column-1);if(void 0===g)return null;var b=p.start.line===p.end.line?E(e.text,p.end.column-1):g+1;if(void 0===b)return null;for(var _=g;_<b;_++)s[_]=!0}}catch(p){d=!0,h=p}finally{try{l||null==f.return||f.return()}finally{if(d)throw h}}for(var C=function(e){var t=void 0,n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;t!==l?(t=l,n.push({code:t,count:1})):n[n.length-1].count++}}catch(p){r=!0,i=p}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(s),x=[],w=0;w<C.length;w++){var S=C[w];S.code?x.push(u.a.createElement("pre",{key:w,style:{display:"inline-block"},className:v.a.highlightError}," ".repeat(S.count))):x.push(u.a.createElement("pre",{key:w,style:{display:"inline-block"}}," ".repeat(S.count)))}return u.a.createElement(c.Fragment,null,x)}var C=u.a.forwardRef(function(e,t){for(var n=[],a=e.startRow;a<e.startRow+e.numRows+2;a++){var r=a===e.currentLine&&v.a.textareaHighlightRowCurrent,i=e.lineToErrors.get(a);if(i){var o=e.textLines[a];n.push(u.a.createElement("div",{className:f()(v.a.textareaHighlightRow,r),key:a},u.a.createElement(_,{text:o,errors:i})))}else n.push(u.a.createElement("div",{className:f()(v.a.textareaHighlightRow,r),key:a}))}return u.a.createElement("div",{ref:t,className:v.a.textareaHighlightOverlay},n)}),x=u.a.forwardRef(function(e,t){for(var n=[],a=e.startRow;a<e.startRow+e.numRows+2;a++){var r="".concat(a+1),i=a===e.currentLine&&v.a.gutterRowSelected,o=a>=0&&a<e.numTextRows?r.padStart(4," "):"";n.push(u.a.createElement("div",{className:f()(v.a.gutterRow,i),key:a},o))}return u.a.createElement("div",{ref:t,className:v.a.gutter},n)}),w=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).editorLineHeight=0,n.numEditorCharRows=0,n.textareaRef=u.a.createRef(),n.gutterRef=u.a.createRef(),n.highlighterRef=u.a.createRef(),n.handleScroll=function(e){var t=e.nativeEvent.target.scrollTop;n.setState({scrollTop:t})},n.handleSourceChanged=function(e){var t=0;n.textareaRef&&n.textareaRef.current&&(t=n.textareaRef.current.selectionStart),n.props.onSourceChanged(e.target.value,t),n.setState({textLines:e.target.value.split("\n")})},n.updateCursorState=function(){if(n.textareaRef&&n.textareaRef.current){var e=n.textareaRef.current;if(e.selectionStart===e.selectionEnd){var t=e.selectionStart,a=Object(p.b)(n.textareaRef.current.value,t);n.setState({currentLine:a})}else n.setState({currentLine:void 0});n.props.onSourceChanged(e.value,e.selectionStart)}},n.handleSelect=function(e){n.updateCursorState()},n.handleKeyDown=function(e){n.updateCursorState()},n.handleKeyUp=function(e){n.updateCursorState()},n.handleMouseDown=function(e){if(n.textareaRef&&n.textareaRef.current){var t=e.nativeEvent.offsetY+n.state.scrollTop;n.setState({currentLine:Math.min(n.state.textLines.length-1,Math.floor(t/n.editorLineHeight))})}},n.state={scrollTop:0,currentLine:0,textLines:n.props.defaultValue.split("\n")};var a=getComputedStyle(document.documentElement).getPropertyValue("--code-window-line-height"),i=b(/^[ ]*([0-9]+)px$/,{height:1}).exec(a);if(!i)throw new Error("failed querying css var --code-window-line-height"+a);n.editorLineHeight=parseInt(i.groups.height);var l=getComputedStyle(document.documentElement).getPropertyValue("--code-window-num-lines");if(!(i=b(/^[ ]*([0-9]+)$/,{lines:1}).exec(l)))throw new Error("failed querying css var --code-window-num-lines");return n.numEditorCharRows=parseInt(i.groups.lines),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.textareaRef&&this.textareaRef.current&&(h.a.watch(this.textareaRef.current),this.textareaRef.current.spellcheck=!1,this.textareaRef.current.selectionStart=this.props.defaultCursorOffset,this.textareaRef.current.selectionEnd=this.props.defaultCursorOffset,this.textareaRef.current.focus())}},{key:"componentDidUpdate",value:function(e,t){if(this.textareaRef&&this.textareaRef.current&&void 0!==this.props.errorCharOffset&&(this.textareaRef.current.focus(),this.textareaRef.current.setSelectionRange(this.props.errorCharOffset,this.props.errorCharOffset)),t.scrollTop!==this.state.scrollTop){var n=this.state.scrollTop%this.editorLineHeight;this.gutterRef&&this.gutterRef.current&&(this.gutterRef.current.scrollTop=n),this.highlighterRef&&this.highlighterRef.current&&(this.highlighterRef.current.scrollTop=n)}}},{key:"render",value:function(){var e=new Map;this.props.diagnostics.forEach(function(t){var n=t.loc,a=n.start.line-1,r=e.has(a)?e.get(a):[];r.push(n),e.set(a,r)});var t=Math.floor(this.state.scrollTop/this.editorLineHeight);return u.a.createElement("div",{className:v.a.layoutContainer},u.a.createElement("div",{className:v.a.heading},"Assembly"),u.a.createElement("div",{className:v.a.editorContainer},u.a.createElement(x,{ref:this.gutterRef,startRow:t,numRows:this.numEditorCharRows,numTextRows:this.state.textLines.length,currentLine:this.state.currentLine}),u.a.createElement("div",{className:v.a.textContainer,onMouseDown:this.handleMouseDown},u.a.createElement(C,{ref:this.highlighterRef,startRow:t,numRows:this.numEditorCharRows,currentLine:this.state.currentLine,textLines:this.state.textLines,lineToErrors:e}),u.a.createElement("textarea",{defaultValue:this.props.defaultValue,wrap:"off",onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onScroll:this.handleScroll,ref:this.textareaRef,onChange:this.handleSourceChanged,className:v.a.textarea}))))}}]),t}(u.a.Component)},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(3),r=n(4),i=n(5),o=n(1),s=n(2),l=n(0),c=n.n(l),u=n(35),d=n.n(u),h=n(14),m=n.n(h);function f(e){return c.a.createElement("div",null,c.a.createElement("a",{onClick:e.onClick,className:m.a.downloadButton,href:"/",target:"_blank"},"Download .PRG"))}var p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).handleDownloadPRG=function(e){e.preventDefault();var t=new Blob([n.props.prg]);d.a.saveAs(t,"c64jasm-online.prg")},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:m.a.layoutContainer},c.a.createElement("div",{className:m.a.heading},c.a.createElement("div",null,"Disassembly"),c.a.createElement(f,{onClick:this.handleDownloadPRG})),c.a.createElement("div",{className:m.a.disasmContainer},c.a.createElement("pre",null,this.props.disassembly.join("\n"))))}}]),t}(c.a.Component)},,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(3),r=n(4),i=n(5),o=n(1),s=n(2),l=n(0),c=n.n(l),u=n(10),d=n.n(u),h=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).itemRef=c.a.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){this.itemRef&&this.itemRef.current&&this.props.selected&&this.itemRef.current.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"render",value:function(){var e=this,t=this.props.error,n=t.loc,a=t.msg,r=this.props.selected?" ".concat(d.a.selected):"";return c.a.createElement("div",{ref:this.itemRef,className:"".concat(d.a.diagItem).concat(r),onClick:function(){return e.props.onClickItem(e.props.index)}},c.a.createElement("span",{className:"".concat(d.a.error).concat(r)},"main.asm:",n.start.line,":",n.start.column,": error:")," ",a)}}]),t}(c.a.Component),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).handleOnClickItem=function(e){n.props.onClickItem(e)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.diagnostics;return c.a.createElement("div",{className:d.a.layoutContainer},c.a.createElement("div",{className:d.a.heading},"Diagnostics"),c.a.createElement("div",{className:d.a.diagnostics},c.a.createElement("div",{className:d.a.diagnosticsBox},t.map(function(t,n){return c.a.createElement(h,{key:JSON.stringify(t.loc),index:n,error:t,selected:n===e.props.selectedIndex,onClickItem:e.handleOnClickItem})}))))}}]),t}(c.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(3),r=n(4),i=n(5),o=n(1),s=n(2),l=n(0),c=n.n(l),u=n(7),d=n.n(u),h=n(8),m=n.n(h),f=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={gistIdOrUrl:""},n.handleSubmit=function(e){e.preventDefault();var t=n.state.gistIdOrUrl.split("/");t.length>0&&n.props.onSubmit(t[t.length-1])},n.handleInputChange=function(e){n.setState({gistIdOrUrl:e.target.value})},n.handlePreventBlur=function(e){e.preventDefault()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("form",{onSubmit:this.handleSubmit,onBlur:function(){return e.props.onCancel()},className:d.a.gistInputContainer},c.a.createElement("input",{placeholder:"Gist ID or URL",onChange:this.handleInputChange,value:this.state.gistIdOrUrl,onKeyDown:function(t){"Escape"===t.key&&e.props.onCancel()},autoFocus:!0,spellCheck:!1,type:"text"}),c.a.createElement("button",{onMouseDown:this.handlePreventBlur,type:"submit"},"Go!"))}}]),t}(c.a.Component),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={editing:!1},n.handleOpenLoadInput=function(){n.setState(function(e){return{editing:!e.editing}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return this.props.loadingGist?c.a.createElement("div",{className:d.a.gistContainer},c.a.createElement("div",{className:d.a.loadingText},"Loading gist..")):c.a.createElement("div",{className:d.a.gistContainer},this.state.editing&&c.a.createElement(f,{onCancel:function(){return e.setState({editing:!1})},onSubmit:function(t){e.setState({editing:!1}),e.props.onLoadGist(t)}}),!this.state.editing&&c.a.createElement("div",{className:d.a.gistLoadButtonContainer},c.a.createElement("button",{onClick:this.handleOpenLoadInput,title:"Load source files from a GitHub public Gist"},"Load Gist")))}}]),t}(c.a.Component),g=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).handleTabClick=function(e,t){n.props.setSelected(t)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files.map(function(t,n){var a=t.name;return c.a.createElement("div",{key:a,className:m()(d.a.tab,n===e.props.selected?d.a.active:""),onClick:function(t){return e.handleTabClick(t,n)}},a)});return c.a.createElement("div",{className:d.a.container},c.a.createElement("div",{className:d.a.tabContainer},t),c.a.createElement(p,{onLoadGist:this.props.onLoadGist,loadingGist:this.props.loadingGist}))}}]),t}(c.a.Component)},,function(e,t,n){"use strict";var a=n(3),r=n(4),i=n(5),o=n(1),s=n(2),l=n(0),c=n.n(l),u=n(18),d=n.n(u),h=n(8),m=n.n(h),f=n(22),p=n.n(f);function g(e){return c.a.createElement("div",{className:p.a.buttonContainer},c.a.createElement("a",{title:"Close Help",href:"/",target:"_blank",className:p.a.close,onClick:function(t){t.preventDefault(),e.onClose()}}))}var v=n(9),b=n.n(v),y=n(13),E=document.getElementById("modal-root"),_=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).el=void 0,n.el=document.createElement("div"),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){E.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){E.removeChild(this.el)}},{key:"render",value:function(){return d.a.createPortal(this.props.children,this.el)}}]),t}(c.a.Component);function C(e){return c.a.createElement("pre",{className:b.a.asm},function(e){var t,n,a=e.split("\n");for(t=0;t<a.length&&0===a[t].trim().length;t++);for(n=a.length-1;n>=0&&0===a[n].trim().length;n--);return a.slice(t,n+1).join("\n")}(e.text))}var x=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:m()(b.a.helpContents,b.a.maxWidth)},c.a.createElement("div",{className:b.a.headingContainer},c.a.createElement("div",{className:b.a.closeButtonContainer},c.a.createElement(g,{onClose:this.props.onClose})),c.a.createElement("h1",null,"c64jasm online ")),c.a.createElement("p",null,c.a.createElement("a",{href:"https://nurpax.github.io/c64jasm/"},"c64jasm")," is a 6502 assembler written in JavaScript. You can run it either on the command line using Node or link it into a web app."),c.a.createElement("p",null,c.a.createElement("a",{href:"https://nurpax.github.io/c64jasm-browser/"},"c64jasm online")," is an interactive assembler demo site where you can write 6502 assembly with live error reporting and disassembly."),c.a.createElement("p",null,"Developed by Janne Hellsten, contact me through ",c.a.createElement("a",{href:"https://twitter.com/nurpax"},"@nurpax")),c.a.createElement("h3",null,"Example projects"),c.a.createElement("p",null,"C64jasm online supports loading source files from GitHub gists. Here's a list of example projects (click on the links to load):"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(function(e){return c.a.createElement(l.Fragment,null,c.a.createElement("a",{href:"".concat("/c64jasm-browser","/?gist_id=").concat(e.id)},e.text),"\xa0(",c.a.createElement("a",{href:"https://gist.github.com/nurpax/".concat(e.id)},"view on GitHub"),")")},{id:"4996160f290fa1b9470520d7be0ca25e",text:"Sine sprites"}))),c.a.createElement("h3",null,"Examples"),c.a.createElement("p",null,"Simple instructions and expressions:"),c.a.createElement(C,{text:"\n    lda #2+2  ; expression in an immediate field\n    sta $d020 ; set border color\n        "}),c.a.createElement("p",null,"Labels:"),c.a.createElement(C,{text:"\nentry: {\n    jsr func\n\n    ldx #8\nloop: ; label local to 'entry' scope\n    dex\n    bpl loop\n}\n\nfunc: {\n    ldx #7\nloop: ; label local to 'func' scope\n    sta buf, x   ; store to buf\n    dex\n    bpl loop\n    rts\n\nbuf: !fill 8, 0    ; 8 byte array\n}\n        "}),c.a.createElement("p",null,"Declaring and using variables:"),c.a.createElement(C,{text:"\n!let num_sprites = 4\n!let sprite_mask = (1<<num_sprites)-1\n\n    lda #sprite_mask\n    sta $d015 ; enable sprites 0-3\n        "}),c.a.createElement("p",null,"Conditional compilation and repetition:"),c.a.createElement(C,{text:"\n!let num_sprites = 4\n    lda #13  ; ptr to sprite data 1 (==address/64)\n    ldx #14  ; ptr to sprite data 2\n\n!for i in range(num_sprites) {\n    !if (i < 2) {\n        sta $07f8+i   ; sprite data 1 from A\n    } else {\n        stx $07f8+i   ; sprite data 2 from X\n    }\n}\n        "}),c.a.createElement("p",null,"Define and use macro macro:"),c.a.createElement(C,{text:"\n!macro set_border(color) {\n    lda #color\n    sta $d020\n}\n\n+set_border(13)  ; expand\n        "}),c.a.createElement("p",null,"A complete C64 program.  To compile a C64 ",c.a.createElement("code",null,".prg")," you need to insert a BASIC startup sequence at the beginning of your output ",c.a.createElement("code",null,".prg")," -- you can use the ",c.a.createElement("code",null,"c64::basic_entry")," macro to do this. The source code to these macros is shown in a later section."),c.a.createElement(C,{text:'\n!include "c64.asm"\n\n+c64::basic_start(entry)\n\nentry: {\n    lda #0\n}\n        '}),c.a.createElement("h3",null,"Built-in support macros"),c.a.createElement("p",null,"The c64jasm online site includes a small built in macro library.  You can find its source code below."),c.a.createElement("p",null,"The builtin ",c.a.createElement("code",null,"c64.asm")," contents:"),c.a.createElement(C,{text:y.a}))}}]),t}(c.a.Component),w=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.visible;return c.a.createElement(_,null,c.a.createElement("div",{className:m()(e?b.a.helpModalContainer:b.a.hidden)},c.a.createElement("div",{className:b.a.circleReveal},c.a.createElement(x,{onClose:this.props.onClose}))))}}]),t}(c.a.Component);t.a=w},function(e,t,n){e.exports=n(41)},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),s=(n(46),n(31));o.a.render(r.a.createElement(s.a,null),document.getElementById("viewport_root"))},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=64}],[[40,1,2]]]);
//# sourceMappingURL=main.7884b065.chunk.js.map