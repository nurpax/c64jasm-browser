!function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)n.d(e,i,function(r){return t[r]}.bind(null,i));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=7)}([function(t,r,n){(function(t){function n(t,r){for(var n=0,e=t.length-1;e>=0;e--){var i=t[e];"."===i?t.splice(e,1):".."===i?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(r)for(;n--;n)t.unshift("..");return t}function e(t,r){if(t.filter)return t.filter(r);for(var n=[],e=0;e<t.length;e++)r(t[e],e,t)&&n.push(t[e]);return n}r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(r=u+"/"+r,i="/"===u.charAt(0))}return(i?"/":"")+(r=n(e(r.split("/"),function(t){return!!t}),!i).join("/"))||"."},r.normalize=function(t){var o=r.isAbsolute(t),u="/"===i(t,-1);return(t=n(e(t.split("/"),function(t){return!!t}),!o).join("/"))||o||(t="."),t&&u&&(t+="/"),(o?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(e(t,function(t,r){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,n){function e(t){for(var r=0;r<t.length&&""===t[r];r++);for(var n=t.length-1;n>=0&&""===t[n];n--);return r>n?[]:t.slice(r,n-r+1)}t=r.resolve(t).substr(1),n=r.resolve(n).substr(1);for(var i=e(t.split("/")),o=e(n.split("/")),u=Math.min(i.length,o.length),s=u,l=0;l<u;l++)if(i[l]!==o[l]){s=l;break}var a=[];for(l=s;l<i.length;l++)a.push("..");return(a=a.concat(o.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,e=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(r=t.charCodeAt(o))){if(!i){e=o;break}}else i=!1;return-1===e?n?"/":".":n&&1===e?"/":t.slice(0,e)},r.basename=function(t,r){var n=function(t){"string"!=typeof t&&(t+="");var r,n=0,e=-1,i=!0;for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!i){n=r+1;break}}else-1===e&&(i=!1,e=r+1);return-1===e?"":t.slice(n,e)}(t);return r&&n.substr(-1*r.length)===r&&(n=n.substr(0,n.length-r.length)),n},r.extname=function(t){"string"!=typeof t&&(t+="");for(var r=-1,n=0,e=-1,i=!0,o=0,u=t.length-1;u>=0;--u){var s=t.charCodeAt(u);if(47!==s)-1===e&&(i=!1,e=u+1),46===s?-1===r?r=u:1!==o&&(o=1):-1!==r&&(o=-1);else if(!i){n=u+1;break}}return-1===r||-1===e||0===o||1===o&&r===e-1&&r===n+1?"":t.slice(r,e)};var i="b"==="ab".substr(-1)?function(t,r,n){return t.substr(r,n)}:function(t,r,n){return r<0&&(r=t.length+r),t.substr(r,n)}}).call(this,n(3))},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=n(12);r.assemble=e.assemble,r.platformC64=e.platformC64;var i=n(24);r.disassemble=i.disassemble},function(t,r,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var e=n(9),i=n(10),o=n(11);function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,r){if(u()<r)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=l.prototype:(null===t&&(t=new l(r)),t.length=r),t}function l(t,r,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,r,n);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return a(this,t,r,n)}function a(t,r,n,e){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,n,e){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");r=void 0===n&&void 0===e?new Uint8Array(r):void 0===e?new Uint8Array(r,n):new Uint8Array(r,n,e);l.TYPED_ARRAY_SUPPORT?(t=r).__proto__=l.prototype:t=f(t,r);return t}(t,r,n,e):"string"==typeof r?function(t,r,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=0|p(r,n),i=(t=s(t,e)).write(r,n);i!==e&&(t=t.slice(0,i));return t}(t,r,n):function(t,r){if(l.isBuffer(r)){var n=0|d(r.length);return 0===(t=s(t,n)).length?t:(r.copy(t,0,0,n),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(e=r.length)!=e?s(t,0):f(t,r);if("Buffer"===r.type&&o(r.data))return f(t,r.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,r){if(c(r),t=s(t,r<0?0:0|d(r)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function f(t,r){var n=r.length<0?0:0|d(r.length);t=s(t,n);for(var e=0;e<n;e+=1)t[e]=255&r[e];return t}function d(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function p(t,r){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var e=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(e)return F(t).length;r=(""+r).toLowerCase(),e=!0}}function m(t,r,n){var e=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,r,n);case"utf8":case"utf-8":return P(this,r,n);case"ascii":return T(this,r,n);case"latin1":case"binary":return _(this,r,n);case"base64":return k(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function g(t,r,n){var e=t[r];t[r]=t[n],t[n]=e}function y(t,r,n,e,i){if(0===t.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof r&&(r=l.from(r,e)),l.isBuffer(r))return 0===r.length?-1:v(t,r,n,e,i);if("number"==typeof r)return r&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):v(t,[r],n,e,i);throw new TypeError("val must be string, number or Buffer")}function v(t,r,n,e,i){var o,u=1,s=t.length,l=r.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(t.length<2||r.length<2)return-1;u=2,s/=2,l/=2,n/=2}function a(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var c=-1;for(o=n;o<s;o++)if(a(t,o)===a(r,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(a(t,o+f)!==a(r,f)){h=!1;break}if(h)return o}return-1}function b(t,r,n,e){n=Number(n)||0;var i=t.length-n;e?(e=Number(e))>i&&(e=i):e=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");e>o/2&&(e=o/2);for(var u=0;u<e;++u){var s=parseInt(r.substr(2*u,2),16);if(isNaN(s))return u;t[n+u]=s}return u}function w(t,r,n,e){return N(F(r,t.length-n),t,n,e)}function A(t,r,n,e){return N(function(t){for(var r=[],n=0;n<t.length;++n)r.push(255&t.charCodeAt(n));return r}(r),t,n,e)}function E(t,r,n,e){return A(t,r,n,e)}function S(t,r,n,e){return N(z(r),t,n,e)}function C(t,r,n,e){return N(function(t,r){for(var n,e,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=t.charCodeAt(u),e=n>>8,i=n%256,o.push(i),o.push(e);return o}(r,t.length-n),t,n,e)}function k(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function P(t,r,n){n=Math.min(t.length,n);for(var e=[],i=r;i<n;){var o,u,s,l,a=t[i],c=null,h=a>239?4:a>223?3:a>191?2:1;if(i+h<=n)switch(h){case 1:a<128&&(c=a);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&a)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(l=(15&a)<<12|(63&o)<<6|63&u)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],u=t[i+2],s=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&s)&&(l=(15&a)<<18|(63&o)<<12|(63&u)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=h}return function(t){var r=t.length;if(r<=x)return String.fromCharCode.apply(String,t);var n="",e=0;for(;e<r;)n+=String.fromCharCode.apply(String,t.slice(e,e+=x));return n}(e)}r.Buffer=l,r.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},r.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=u(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,r,n){return a(null,t,r,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,r,n){return function(t,r,n,e){return c(r),r<=0?s(t,r):void 0!==n?"string"==typeof e?s(t,r).fill(n,e):s(t,r).fill(n):s(t,r)}(null,t,r,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,r){if(!l.isBuffer(t)||!l.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,e=r.length,i=0,o=Math.min(n,e);i<o;++i)if(t[i]!==r[i]){n=t[i],e=r[i];break}return n<e?-1:e<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,r){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var e=l.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){var u=t[n];if(!l.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(e,i),i+=u.length}return e},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)g(this,r,r+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)g(this,r,r+3),g(this,r+1,r+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)g(this,r,r+7),g(this,r+1,r+6),g(this,r+2,r+5),g(this,r+3,r+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,r,n,e,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),r<0||n>t.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&r>=n)return 0;if(e>=i)return-1;if(r>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(e>>>=0),u=(n>>>=0)-(r>>>=0),s=Math.min(o,u),a=this.slice(e,i),c=t.slice(r,n),h=0;h<s;++h)if(a[h]!==c[h]){o=a[h],u=c[h];break}return o<u?-1:u<o?1:0},l.prototype.includes=function(t,r,n){return-1!==this.indexOf(t,r,n)},l.prototype.indexOf=function(t,r,n){return y(this,t,r,n,!0)},l.prototype.lastIndexOf=function(t,r,n){return y(this,t,r,n,!1)},l.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(n)?(n|=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-r;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var o=!1;;)switch(e){case"hex":return b(this,t,r,n);case"utf8":case"utf-8":return w(this,t,r,n);case"ascii":return A(this,t,r,n);case"latin1":case"binary":return E(this,t,r,n);case"base64":return S(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(127&t[i]);return e}function _(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(t[i]);return e}function B(t,r,n){var e=t.length;(!r||r<0)&&(r=0),(!n||n<0||n>e)&&(n=e);for(var i="",o=r;o<n;++o)i+=D(t[o]);return i}function I(t,r,n){for(var e=t.slice(r,n),i="",o=0;o<e.length;o+=2)i+=String.fromCharCode(e[o]+256*e[o+1]);return i}function L(t,r,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}function $(t,r,n,e,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(n+e>t.length)throw new RangeError("Index out of range")}function R(t,r,n,e){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(r&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function O(t,r,n,e){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=r>>>8*(e?i:3-i)&255}function M(t,r,n,e,i,o){if(n+e>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,r,n,e,o){return o||M(t,0,n,4),i.write(t,r,n,e,23,4),n+4}function j(t,r,n,e,o){return o||M(t,0,n,8),i.write(t,r,n,e,52,8),n+8}l.prototype.slice=function(t,r){var n,e=this.length;if((t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(r=void 0===r?e:~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,r)).__proto__=l.prototype;else{var i=r-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,r,n){t|=0,r|=0,n||L(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return e},l.prototype.readUIntBE=function(t,r,n){t|=0,r|=0,n||L(t,r,this.length);for(var e=this[t+--r],i=1;r>0&&(i*=256);)e+=this[t+--r]*i;return e},l.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,r,n){t|=0,r|=0,n||L(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*r)),e},l.prototype.readIntBE=function(t,r,n){t|=0,r|=0,n||L(t,r,this.length);for(var e=r,i=1,o=this[t+--e];e>0&&(i*=256);)o+=this[t+--e]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},l.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||$(this,t,r,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[r]=255&t;++o<n&&(i*=256);)this[r+o]=t/i&255;return r+n},l.prototype.writeUIntBE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||$(this,t,r,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+n},l.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},l.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):R(this,t,r,!0),r+2},l.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):R(this,t,r,!1),r+2},l.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):O(this,t,r,!0),r+4},l.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):O(this,t,r,!1),r+4},l.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r|=0,!e){var i=Math.pow(2,8*n-1);$(this,t,r,n,i-1,-i)}var o=0,u=1,s=0;for(this[r]=255&t;++o<n&&(u*=256);)t<0&&0===s&&0!==this[r+o-1]&&(s=1),this[r+o]=(t/u>>0)-s&255;return r+n},l.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r|=0,!e){var i=Math.pow(2,8*n-1);$(this,t,r,n,i-1,-i)}var o=n-1,u=1,s=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===s&&0!==this[r+o+1]&&(s=1),this[r+o]=(t/u>>0)-s&255;return r+n},l.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},l.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):R(this,t,r,!0),r+2},l.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):R(this,t,r,!1),r+2},l.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):O(this,t,r,!0),r+4},l.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||$(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):O(this,t,r,!1),r+4},l.prototype.writeFloatLE=function(t,r,n){return U(this,t,r,!0,n)},l.prototype.writeFloatBE=function(t,r,n){return U(this,t,r,!1,n)},l.prototype.writeDoubleLE=function(t,r,n){return j(this,t,r,!0,n)},l.prototype.writeDoubleBE=function(t,r,n){return j(this,t,r,!1,n)},l.prototype.copy=function(t,r,n,e){if(n||(n=0),e||0===e||(e=this.length),r>=t.length&&(r=t.length),r||(r=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-r<e-n&&(e=t.length-r+n);var i,o=e-n;if(this===t&&n<r&&r<e)for(i=o-1;i>=0;--i)t[i+r]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o},l.prototype.fill=function(t,r,n,e){if("string"==typeof t){if("string"==typeof r?(e=r,r=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var o;if(r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=r;o<n;++o)this[o]=t;else{var u=l.isBuffer(t)?t:F(new l(t,e).toString()),s=u.length;for(o=0;o<n-r;++o)this[o+r]=u[o%s]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,r){var n;r=r||1/0;for(var e=t.length,i=null,o=[],u=0;u<e;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===e){(r-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(r-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((r-=1)<0)break;o.push(n)}else if(n<2048){if((r-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return e.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function N(t,r,n,e){for(var i=0;i<e&&!(i+n>=r.length||i>=t.length);++i)r[i+n]=t[i];return i}}).call(this,n(8))},function(t,r){var n,e,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(r){try{return n.call(null,t,0)}catch(r){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{e="function"==typeof clearTimeout?clearTimeout:u}catch(t){e=u}}();var l,a=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?a=l.concat(a):h=-1,a.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var r=a.length;r;){for(l=a,a=[];++h<r;)l&&l[h].run();h=-1,r=a.length}l=null,c=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===u||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(r){try{return e.call(null,t)}catch(r){return e.call(this,t)}}}(t)}}function p(t,r){this.fun=t,this.array=r}function m(){}i.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];a.push(new p(t,r)),1!==a.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={ADC:[105,101,117,null,109,125,121,null,97,113,null,null],AND:[41,37,53,null,45,61,57,null,33,49,null,null],ASL:[null,6,22,null,14,30,null,null,null,null,10,null],BIT:[null,36,null,null,44,null,null,null,null,null,null,null],BPL:[null,null,null,null,null,null,null,null,null,null,null,16],BMI:[null,null,null,null,null,null,null,null,null,null,null,48],BVC:[null,null,null,null,null,null,null,null,null,null,null,80],BVS:[null,null,null,null,null,null,null,null,null,null,null,112],BCC:[null,null,null,null,null,null,null,null,null,null,null,144],BCS:[null,null,null,null,null,null,null,null,null,null,null,176],BNE:[null,null,null,null,null,null,null,null,null,null,null,208],BEQ:[null,null,null,null,null,null,null,null,null,null,null,240],BRK:[null,null,null,null,null,null,null,null,null,null,0,null],CMP:[201,197,213,null,205,221,217,null,193,209,null,null],CPX:[224,228,null,null,236,null,null,null,null,null,null,null],CPY:[192,196,null,null,204,null,null,null,null,null,null,null],DEC:[null,198,214,null,206,222,null,null,null,null,null,null],EOR:[73,69,85,null,77,93,89,null,65,81,null,null],CLC:[null,null,null,null,null,null,null,null,null,null,24,null],SEC:[null,null,null,null,null,null,null,null,null,null,56,null],CLI:[null,null,null,null,null,null,null,null,null,null,88,null],SEI:[null,null,null,null,null,null,null,null,null,null,120,null],CLV:[null,null,null,null,null,null,null,null,null,null,184,null],CLD:[null,null,null,null,null,null,null,null,null,null,216,null],SED:[null,null,null,null,null,null,null,null,null,null,248,null],INC:[null,230,246,null,238,254,null,null,null,null,null,null],JMP:[null,null,null,null,76,null,null,108,null,null,null,null],JSR:[null,null,null,null,32,null,null,null,null,null,null,null],LDA:[169,165,181,null,173,189,185,null,161,177,null,null],LDX:[162,166,null,182,174,null,190,null,null,null,null,null],LDY:[160,164,180,null,172,188,null,null,null,null,null,null],LSR:[null,70,86,null,78,94,null,null,null,null,74,null],NOP:[null,null,null,null,null,null,null,null,null,null,234,null],ORA:[9,5,21,null,13,29,25,null,1,17,null,null],TAX:[null,null,null,null,null,null,null,null,null,null,170,null],TXA:[null,null,null,null,null,null,null,null,null,null,138,null],DEX:[null,null,null,null,null,null,null,null,null,null,202,null],INX:[null,null,null,null,null,null,null,null,null,null,232,null],TAY:[null,null,null,null,null,null,null,null,null,null,168,null],TYA:[null,null,null,null,null,null,null,null,null,null,152,null],DEY:[null,null,null,null,null,null,null,null,null,null,136,null],INY:[null,null,null,null,null,null,null,null,null,null,200,null],ROR:[null,102,118,null,110,126,null,null,null,null,106,null],ROL:[null,38,54,null,46,62,null,null,null,null,42,null],RTI:[null,null,null,null,null,null,null,null,null,null,64,null],RTS:[null,null,null,null,null,null,null,null,null,null,96,null],SBC:[233,229,245,null,237,253,249,null,225,241,null,null],STA:[null,133,149,null,141,157,153,null,129,145,null,null],TXS:[null,null,null,null,null,null,null,null,null,null,154,null],TSX:[null,null,null,null,null,null,null,null,null,null,186,null],PHA:[null,null,null,null,null,null,null,null,null,null,72,null],PLA:[null,null,null,null,null,null,null,null,null,null,104,null],PHP:[null,null,null,null,null,null,null,null,null,null,8,null],PLP:[null,null,null,null,null,null,null,null,null,null,40,null],STX:[null,134,null,150,142,null,null,null,null,null,null,null],STY:[null,132,148,null,140,null,null,null,null,null,null,null],"---":[null,null,null,null,null,null,null,null,null,null,null,null]}},function(t,r){},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mkLiteral=function(t,r){return{type:"literal",lit:t,loc:r}},r.mkScopeQualifiedIdent=function(t,r,n){return{type:"qualified-ident",path:t,absolute:r,loc:n}},r.mkIdent=function(t,r){return{type:"ident",name:t,loc:r}},r.mkUnary=function(t,r,n){return{type:"unary",op:t,expr:r,loc:n}},r.mkBinaryOp=function(t,r,n,e){return{type:"binary",op:t,left:r,right:n,loc:e}},r.mkExprArray=function(t,r){return{type:"array",list:t,loc:r}},r.mkExprObject=function(t,r){return{type:"object",props:t,loc:r}},r.mkCallFunc=function(t,r,n){return{type:"callfunc",callee:t,args:null==r?[]:r,loc:n}},r.mkGetCurPC=function(t){return{type:"getcurpc",loc:t}},r.mkMember=function(t,r,n,e){return{type:"member",object:t,property:r,computed:n,loc:e}},function(t){t[t.Byte=0]="Byte",t[t.Word=1]="Word"}(r.DataSize||(r.DataSize={})),r.mkLabel=function(t,r){return{name:t,loc:r}},r.mkInsn=function(t,r){return{type:"insn",insn:t,loc:r}},r.mkSetPC=function(t,r){return{type:"setpc",pc:t,loc:r}},r.mkData=function(t,r,n){return{type:"data",values:r,dataSize:t,loc:n}},r.mkFill=function(t,r,n){return{type:"fill",numBytes:t,fillValue:r,loc:n}},r.mkAlign=function(t,r){return{type:"align",alignBytes:t,loc:r}},r.mkInclude=function(t,r){return{type:"include",filename:t,loc:r}},r.mkError=function(t,r){return{type:"error",error:t,loc:r}},r.mkBinary=function(t,r,n,e){return{type:"binary",filename:t,size:r,offset:n,loc:e}},r.mkIfElse=function(t,r,n){return{type:"if",cases:t,elseBranch:null!==r?r:[],loc:n}},r.mkFor=function(t,r,n,e){return{type:"for",index:t,list:r,body:n,loc:e}},r.mkMacroArg=function(t){return{ident:t}},r.mkMacro=function(t,r,n,e){return{type:"macro",name:t,args:null==r?[]:r,body:n,loc:e}},r.mkCallMacro=function(t,r,n){return{type:"callmacro",name:t,args:null==r?[]:r,loc:n}},r.mkLet=function(t,r,n){return{type:"let",name:t,value:r,loc:n}},r.mkAssign=function(t,r,n){return{type:"assign",name:t,value:r,loc:n}},r.mkStmtExpr=function(t,r){return{type:"statement-expr",expr:t,loc:r}},r.mkLoadPlugin=function(t,r,n){return{type:"load-plugin",filename:t,moduleName:r,loc:n}},r.mkFilescope=function(t,r){return{type:"filescope",name:t,loc:r}},r.mkAsmLine=function(t,r,n,e){return{label:t,stmt:r,scopedStmts:n,loc:e}}},function(t,r,n){"use strict";n.r(r),function(t){var r=n(1);onmessage=function(n){postMessage(function(n){var e=n.sourceFileMap,i={readFileSync:function(r){if(r in e)return t.from(e[r]);throw new Error("File not found "+r)}},o=r.assemble("main.asm",i);if(0===o.errors.length){var u={isInstruction:o.debugInfo.info().isInstruction};return{prg:o.prg,disassembly:r.disassemble(o.prg,u),diagnostics:o.errors}}return{prg:void 0,diagnostics:o.errors}}(n.data))}}.call(this,n(2).Buffer)},function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,r,n){"use strict";r.byteLength=function(t){var r=a(t),n=r[0],e=r[1];return 3*(n+e)/4-e},r.toByteArray=function(t){for(var r,n=a(t),e=n[0],u=n[1],s=new o(function(t,r,n){return 3*(r+n)/4-n}(0,e,u)),l=0,c=u>0?e-4:e,h=0;h<c;h+=4)r=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===u&&(r=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,s[l++]=255&r);1===u&&(r=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},r.fromByteArray=function(t){for(var r,n=t.length,i=n%3,o=[],u=0,s=n-i;u<s;u+=16383)o.push(c(t,u,u+16383>s?s:u+16383));1===i?(r=t[n-1],o.push(e[r>>2]+e[r<<4&63]+"==")):2===i&&(r=(t[n-2]<<8)+t[n-1],o.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"="));return o.join("")};for(var e=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=u.length;s<l;++s)e[s]=u[s],i[u.charCodeAt(s)]=s;function a(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=r),[n,n===r?0:4-n%4]}function c(t,r,n){for(var i,o,u=[],s=r;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),u.push(e[(o=i)>>18&63]+e[o>>12&63]+e[o>>6&63]+e[63&o]);return u.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,n,e,i){var o,u,s=8*i-e-1,l=(1<<s)-1,a=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[r+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[r+h],h+=f,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=e;c>0;u=256*u+t[r+h],h+=f,c-=8);if(0===o)o=1-a;else{if(o===l)return u?NaN:1/0*(d?-1:1);u+=Math.pow(2,e),o-=a}return(d?-1:1)*u*Math.pow(2,o-e)},r.write=function(t,r,n,e,i,o){var u,s,l,a=8*o-i-1,c=(1<<a)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=e?0:o-1,p=e?1:-1,m=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-u))<1&&(u--,l*=2),(r+=u+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(u++,l/=2),u+h>=c?(s=0,u=c):u+h>=1?(s=(r*l-1)*Math.pow(2,i),u+=h):(s=r*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(u=u<<i|s,a+=i;a>0;t[n+d]=255&u,d+=p,u/=256,a-=8);t[n+d-p]|=128*m}},function(t,r){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,r,n){"use strict";(function(t,e){Object.defineProperty(r,"__esModule",{value:!0});const i=n(4),o=n(0),u=n(13),s=n(5),l=n(19),a=n(6),c=n(20),h=n(22);function f(t){return{value:t,errors:!0}}function d(t){return{value:t,errors:!1}}function p(...t){return t.some(t=>void 0!==t&&t.errors)}r.platformC64={name:"c64",defaultStartPC:2049};class m{constructor(t,r){this.syms=new Map,this.parent=null,this.children=new Map,this.parent=t,this.name=r}newScope(t,r){const n=this.children.get(t);if(void 0!==n)return n;const e=new m(r,t);return this.children.set(t,e),e}findSymbol(t){for(let r=this;null!==r;r=r.parent){const n=r.syms.get(t);if(void 0!==n)return n}}findSymbolPath(t){if(1==t.length)return this.findSymbol(t[0]);let r=this;for(;null==r.children.get(t[0]);)if(null==(r=r.parent))return;for(let n=0;n<t.length-1;n++)if(null==(r=r.children.get(t[n])))return;return r.syms.get(t[t.length-1])}addSymbol(t,r,n){this.syms.set(t,Object.assign(Object.assign({},r),{seen:n}))}updateSymbol(t,r,n){for(let e=this;null!==e;e=e.parent){if(void 0!==e.syms.get(t))return void e.syms.set(t,Object.assign(Object.assign({},r),{seen:n}))}}}class g{constructor(){this.passCount=0,this.root=new m(null,""),this.curSymtab=this.root,this.anonScopeCount=0}startPass(t){this.curSymtab=this.root,this.anonScopeCount=0,this.passCount=t}withAnonScope(t,r){const n=`__anon_scope_${this.anonScopeCount}`;this.anonScopeCount++,this.withLabelScope(n,t,r)}withLabelScope(t,r,n){const e=this.curSymtab;this.curSymtab=this.curSymtab.newScope(t,n||e),r(),this.curSymtab=e}findPath(t,r){return r?this.root.findSymbolPath(t):this.curSymtab.findSymbolPath(t)}findQualifiedSym(t,r){return this.findPath(t,r)}symbolSeen(t){const r=this.curSymtab.syms.get(t);return void 0!==r&&r.seen==this.passCount}declareLabelSymbol(t,r){const{name:n,loc:e}=t,i=this.curSymtab.syms.get(n);if(null==i){const t={type:"label",data:d({addr:r,loc:e})};return this.curSymtab.addSymbol(n,t,this.passCount),!1}if("label"!==i.type)throw new Error("ICE: declareLabelSymbol should be called only on labels");if(i.data.value.addr!==r){const t={type:"label",data:Object.assign(Object.assign({},i.data),{value:Object.assign(Object.assign({},i.data.value),{addr:r})})};return this.curSymtab.updateSymbol(n,t,this.passCount),!0}return this.curSymtab.updateSymbol(n,i,this.passCount),!1}declareVar(t,r){this.curSymtab.addSymbol(t,{type:"var",data:r},this.passCount)}updateVar(t,r){const n={type:"var",data:r};this.curSymtab.updateSymbol(t,n,this.passCount)}findMacro(t,r){const n=this.findPath(t,r);if(void 0!==n&&"macro"==n.type)return n}declareMacro(t,r){this.curSymtab.addSymbol(t,{type:"macro",macro:r,declaredIn:this.curSymtab},this.passCount)}dumpLabels(t){const r=[],n=(t,n)=>{r.push({prefix:`${t}/${n.name}`,sym:n})};n("",this.root);const e=[];for(;r.length>0;){const t=r.pop();for(let[r,n]of t.sym.syms)"label"==n.type&&e.push({name:`${t.prefix}/${r}`,addr:n.data.value.addr,size:0});for(let[r,e]of t.sym.children)n(t.prefix,e)}const i=e.sort((t,r)=>t.addr-r.addr),o=i.length;if(o>0){for(let t=1;t<o;t++)i[t-1].size=i[t].addr-i[t-1].addr;const r=i[o-1];r.size=t-r.addr}return i}}function y(t){return{source:t,start:{offset:0,line:0,column:0},end:{offset:0,line:0,column:0}}}function v(t){const r=typeof t;return"object"===r&&t instanceof Array?"array":r}function b(t){return`${t.absolute?"::":""}${t.path.join("::")}`}const w=(t,r,n)=>{const e=n(t.value,r.value);return d("boolean"==typeof e?e?1:0:e)},A=(t,r)=>{if(p(t))return f(0);const n=r(t.value);return d("boolean"==typeof n?n?1:0:n)},E=void 0!==t&&null!=t.versions&&null!=t.versions.node;class S{constructor(t){this.binary=[],this.parseCache=new c.default,this.pluginCache=new Map,this.includeStack=[],this.initialPC=0,this.codePC=0,this.codePCSet=!1,this.pass=0,this.needPass=!1,this.scopes=new g,this.errorList=[],this.warningList=[],this.outOfRangeBranches=[],this.debugInfo=new h.DebugInfoTracker,this.errors=()=>this.formatErrors(this.errorList,"error"),this.warnings=()=>this.formatErrors(this.warningList,"warning"),this.readFileSyncFunc=t.readFileSync,this.platform=t.platformOptions||r.platformC64}readFileSync(t,r){return this.readFileSyncFunc(t,r)}prg(){const t=255&this.initialPC,r=this.initialPC>>8&255;return e.from([t,r].concat(this.binary))}parse(t,r){const n=null==r?y(t):r;return this.parseCache.parse(t,r,(t,r)=>this.guardedReadFileSync(t,n))}requirePlugin(t,r){const n=this.pluginCache.get(t);if(void 0!==n)return n;const e=this.makeSourceRelativePath(t);try{const n=d(E?u(o.resolve(e)):function(t){let r={exports:{}};return Function("module",t.toString())(r),r.exports}(this.guardedReadFileSync(`${e}.js`,r)));return this.pluginCache.set(t,n),n}catch(t){return this.addError(`Plugin load failed: ${e}.js: ${t.message}`,r),f(0)}}peekSourceStack(){const t=this.includeStack.length;return this.includeStack[t-1]}pushSource(t){this.includeStack.push(t)}popSource(){this.includeStack.pop()}anyErrors(){return 0!==this.errorList.length}formatErrors(t,r){return[...new Set(t.map(t=>JSON.stringify(t)))].map(t=>{const{loc:n,msg:e}=JSON.parse(t);let i=`<unknown>:1:1: ${r}: ${e}`;return n&&(i=`${n.source}:${n.start.line}:${n.start.column}: ${r}: ${e}`),{loc:n,msg:e,formatted:i}})}addError(t,r){this.errorList.push({msg:t,loc:r})}addWarning(t,r){this.warningList.push({msg:t,loc:r})}startPass(t){this.codePC=this.platform.defaultStartPC,this.codePCSet=!1,this.pass=t,this.needPass=!1,this.binary=[],this.errorList=[],this.scopes.startPass(t),this.outOfRangeBranches=[],this.debugInfo=new h.DebugInfoTracker}emitBasicHeader(){this.emit(12),this.emit(8),this.emit(0),this.emit(0),this.emit(158);[1e4,1e3,100,10,1].forEach(t=>{2061>=t&&this.emit(48+2061/t%10)}),this.emit(0),this.emit(0),this.emit(0)}emitBinary(t){const{filename:r}=t,n=this.evalExprToString(r,"!binary filename");let e=d(0),i=void 0;if(null!==t.size&&(null!==t.offset&&(e=this.evalExprToInt(t.offset,"!binary offset")),null!==t.size&&(i=this.evalExprToInt(t.size,"!binary size"))),p(n,e,i))return;const o=this.makeSourceRelativePath(n.value),u=this.guardedReadFileSync(o,t.loc);let s=u.byteLength;i&&(s=i.value);for(let t=0;t<s;t++)this.emit(u.readUInt8(t+e.value))}evalExprType(t,r,n){const e=this.evalExpr(t),{errors:i,value:o}=e;return i||typeof o===r?e:(this.addError(`Expecting ${n} to be '${r}' type, got '${v(o)}'`,t.loc),{errors:!0,value:o})}evalExprToInt(t,r){return this.evalExprType(t,"number",r)}evalExprToString(t,r){return this.evalExprType(t,"string",r)}evalExpr(t){switch(t.type){case"binary":{const r=this.evalExpr(t.left),n=this.evalExpr(t.right);if(p(r,n))return f(0);if(typeof r.value!=typeof n.value)return this.addError(`Binary expression operands are expected to be of the same type.  Got: '${v(r.value)}' (left), '${v(n.value)}' (right)`,t.loc),f(0);if("string"!=typeof r.value&&"number"!=typeof r.value)return this.addError(`Binary expression operands can only operator on numbers or strings.  Got: '${v(r.value)}'`,t.loc),f(0);if("string"==typeof r.value){const r=["+","==","<","<=",">",">="];if(r.indexOf(t.op)<0)return this.addError(`'${t.op}' operator is not supported for strings.  Valid operators for strings are: ${r.join(", ")}`,t.loc),f(0)}switch(t.op){case"+":return w(r,n,(t,r)=>t+r);case"-":return w(r,n,(t,r)=>t-r);case"*":return w(r,n,(t,r)=>t*r);case"/":return w(r,n,(t,r)=>t/r);case"%":return w(r,n,(t,r)=>t%r);case"&":return w(r,n,(t,r)=>t&r);case"|":return w(r,n,(t,r)=>t|r);case"^":return w(r,n,(t,r)=>t^r);case"<<":return w(r,n,(t,r)=>t<<r);case">>":return w(r,n,(t,r)=>t>>r);case"==":return w(r,n,(t,r)=>t==r);case"!=":return w(r,n,(t,r)=>t!=r);case"<":return w(r,n,(t,r)=>t<r);case"<=":return w(r,n,(t,r)=>t<=r);case">":return w(r,n,(t,r)=>t>r);case">=":return w(r,n,(t,r)=>t>=r);case"&&":return w(r,n,(t,r)=>t&&r);case"||":return w(r,n,(t,r)=>t||r);default:throw new Error(`Unhandled binary operator ${t.op}`)}}case"unary":{const r=this.evalExprToInt(t.expr,"operand");if(r.errors)return r;switch(t.op){case"+":return A(r,t=>+t);case"-":return A(r,t=>-t);case"~":return A(r,t=>~t);default:throw new Error(`Unhandled unary operator ${t.op}`)}}case"literal":return d(t.lit);case"array":{const r=t.list.map(t=>this.evalExpr(t));return{value:r.map(t=>t.value),errors:p(...r)}}case"object":{const r=t.props.map(t=>{const r=this.evalExpr(t.val);return["literal"===t.key.type?t.key.lit:t.key.name,r]});return{value:r.reduce((t,[r,n])=>Object.assign(Object.assign({},t),{[r]:n.value}),{}),errors:p(...r.map(([t,r])=>r))}}case"ident":throw new Error("should not see an ident here -- if you do, it is probably a wrong type node in parser");case"qualified-ident":{const r=this.scopes.findQualifiedSym(t.path,t.absolute);if(null==r)return this.pass>=1?(this.addError(`Undefined symbol '${b(t)}'`,t.loc),f(0)):(this.needPass=!0,d(0));switch(r.type){case"label":return{errors:r.data.errors,value:r.data.value.addr};case"var":return r.seen<this.pass&&this.addError(`Undeclared variable '${b(t)}'`,t.loc),r.data;case"macro":return this.addError("Must have a label or a variable identifier here, got macro name",t.loc),f(0)}break}case"member":{const r=this.evalExpr(t.object);if(p(r))return f(0);const{value:n}=r;if(null==n)return this.addError("Cannot access properties of an undefined object",t.loc),f(0);const e=(t,r)=>t in n||(this.addError(`Property '${t}' does not exist in object`,r),!1),i=(t,r)=>{if("ident"!==t.property.type)this.addError(`${r} property must be a string, got ${v(t.property.type)}`,t.loc);else if(e(t.property.name,t.property.loc))return d(n[t.property.name]);return f(0)};if(n instanceof Array){if(!t.computed)return i(t,"Array");const{errors:r,value:e}=this.evalExprToInt(t.property,"array index");return r?f(0):e in n?d(n[e]):(this.addError(`Out of bounds array index ${e}`,t.property.loc),f(0))}if("object"==typeof n){if(t.computed){let{errors:r,value:i}=this.evalExpr(t.property);return r?f(0):"string"!=typeof i&&"number"!=typeof i?(this.addError(`Object property must be a string or an integer, got ${v(i)}`,t.loc),f(0)):e(i,t.property.loc)?d(n[i]):f(0)}return i(t,"Object")}return 0!==this.pass?(r.errors||(t.computed?this.addError("Cannot use []-operator on non-array/object values",t.loc):this.addError("Cannot use the dot-operator on non-object values",t.loc)),f(0)):d(0)}case"callfunc":{const r=this.evalExpr(t.callee),n=t.args.map(t=>this.evalExpr(t));if(r.errors)return f(0);if("function"!=typeof r.value)return this.addError(`Callee must be a function type.  Got '${v(r)}'`,t.loc),f(0);if(p(...n))return f(0);try{return d(r.value(...n.map(t=>t.value)))}catch(r){return"qualified-ident"==t.callee.type?this.addError(`Call to '${b(t.callee)}' failed with an error: ${r.message}`,t.loc):this.addError(`Plugin call failed with an error: ${r.message}`,t.loc),f(0)}}case"getcurpc":return d(this.codePC)}throw new Error("should be unreachable?")}setInitialPC(t){if(this.codePCSet)throw new Error("PC already set -- shouldn't happen");this.codePC=t,this.codePCSet=!0,this.initialPC=t}topLevelSourceLoc(){return y(this.includeStack[0])}emit(t){this.codePCSet||(this.setInitialPC(this.platform.defaultStartPC),this.addWarning(`Starting program counter not set with '* = addr'.  Defaulting to platform default $${l.toHex16(this.codePC)}`,this.topLevelSourceLoc())),this.binary.push(t),this.codePC+=1}emit16(t){this.emit(255&t),this.emit(t>>8&255)}checkSingle(t){return null!==t&&(this.emit(t),!0)}checkImm(t,r){if(null===r||null===t)return!1;const n=this.evalExprToInt(t,"immediate");return p(n)||(this.emit(r),this.emit(n.value)),!0}checkAbs(t,r,n){if(null===r||null===t)return!1;const e=this.evalExprToInt(t,"absolute address");if(p(e))return!0;const{value:i}=e;if(8===n){if(i<0||i>=1<<n)return!1;this.emit(r),this.emit(i)}else this.emit(r),this.emit16(i);return!0}checkBranch(t,r){if(null===r||null===t)return!1;const n=this.evalExpr(t);if(p(n))return!0;if("number"!=typeof n.value)return this.addError(`Expecting branch label to evaluate to integer, got ${v(n.value)}`,t.loc),!0;const{value:e}=n,i=e-this.codePC-2;return this.emit(r),(i>127||i<-128)&&this.outOfRangeBranches.push({loc:t.loc,offset:i}),this.emit(255&i),!0}setPC(t){const r=this.evalExprToInt(t,"pc");if(!p(r)){const{value:n}=r;if(this.codePCSet)for(this.codePC>n&&this.addError(`Cannot set program counter to a smaller value than current (current: $${l.toHex16(this.codePC)}, trying to set $${l.toHex16(n)})`,t.loc);this.codePC<n;)this.emit(0);else this.setInitialPC(n)}}guardedReadFileSync(t,r){try{return this.readFileSync(t)}catch(n){return this.addError(`Couldn't open file '${t}'`,r),e.from([])}}fileInclude(t){const r=this.evalExprToString(t.filename,"!include filename");if(p(r))return;const n=r.value,e=this.makeSourceRelativePath(n);this.pushSource(e),this.assemble(e,t.loc),this.popSource()}fillBytes(t){const r=this.evalExprToInt(t.numBytes,"!fill num_bytes"),n=this.evalExprToInt(t.fillValue,"!fill value");if(p(r,n))return;const{value:e}=n;if(e<0||e>=256)return void this.addError(`!fill value to repeat must be in 8-bit range, '${e}' given`,t.fillValue.loc);const i=r.value;if(i<0)this.addError(`!fill repeat count must be >= 0, got ${i}`,t.numBytes.loc);else for(let t=0;t<i;t++)this.emit(e)}alignBytes(t){const r=this.evalExprToInt(t.alignBytes,"alignment");if(p(r))return;const{value:n}=r;if(n<1)this.addError(`Alignment must be a positive integer, ${n} given`,t.alignBytes.loc);else if(0==(n&n-1))for(;0!=(this.codePC&n-1);)this.emit(0);else this.addError(`Alignment must be a power of two, ${n} given`,t.loc)}withAnonScope(t,r,n){if(null!==t)return this.withLabelScope(t,r,n);this.scopes.withAnonScope(r,n)}withLabelScope(t,r,n){this.scopes.withLabelScope(t,r)}emit8or16(t,r){8!=r?this.emit16(t):this.emit(t)}emitData(t,r){for(let n=0;n<t.length;n++){const e=this.evalExpr(t[n]);if(p(e))continue;const{value:i}=e;if("number"==typeof i)this.emit8or16(i,r);else if(i instanceof Array)for(let t in i)this.emit8or16(i[t],r);else this.addError(`Only literal (int constants) or array types can be emitted.  Got ${v(i)}`,t[n].loc)}}makeFunction(t,r){return(...r)=>{return t.apply(null,[{readFileSync:t=>this.readFileSync(t),resolveRelative:t=>this.makeSourceRelativePath(t)},...r])}}bindFunction(t,r,n){this.scopes.declareVar(t.name,d(this.makeFunction(r,n)))}bindPlugin(t,r){const n=t.moduleName;if(p(r))return void this.scopes.declareVar(n.name,f(0));const e=r.value;if("function"==typeof e&&this.bindFunction(n,e,t.loc),"object"==typeof e){const r={},i=Object.keys(e);for(let n in i){const o=i[n],u=e[o];r[o]="function"==typeof u?this.makeFunction(u,t.loc):u}this.scopes.declareVar(n.name,d(r))}}checkDirectives(t,r){switch(t.type){case"data":this.emitData(t.values,t.dataSize===a.DataSize.Byte?8:16);break;case"fill":this.fillBytes(t);break;case"align":this.alignBytes(t);break;case"setpc":this.setPC(t.pc);break;case"binary":this.emitBinary(t);break;case"include":this.fileInclude(t);break;case"error":{const r=this.evalExprToString(t.error,"error message");if(!p(r))return void this.addError(r.value,t.loc);break}case"if":{const{cases:e,elseBranch:i}=t;for(let t in e){const[i,o]=e[t],u=this.evalExpr(i);if(!p(u)&&(!0===(n=u.value)||0!=n))return this.withAnonScope(r,()=>{this.assembleLines(o)})}return this.withAnonScope(r,()=>{this.assembleLines(i)})}case"for":{const{index:n,list:e,body:i,loc:o}=t,u=this.evalExpr(e);if(p(u))return;const{value:s}=u;if(!(s instanceof Array))return void this.addError("for-loop range must be an array expression (e.g., a range() or an array)",e.loc);for(let t=0;t<s.length;t++){let e=null;null!==r&&(e=`${r}__${t}`),this.withAnonScope(e,()=>(this.scopes.declareVar(n.name,d(s[t])),this.assembleLines(i)))}break}case"macro":{const{name:r,args:n,body:e}=t;if(void 0!==this.scopes.findMacro([r.name],!1)&&this.scopes.symbolSeen(r.name))return void this.addError(`Macro '${r.name}' already defined`,r.loc);this.scopes.declareMacro(r.name,t);break}case"callmacro":{const{name:n,args:e}=t,i=this.scopes.findMacro(n.path,n.absolute),o=e.map(t=>this.evalExpr(t));if(null==i)return void this.addError(`Undefined macro '${b(n)}'`,n.loc);const{macro:u,declaredIn:s}=i;if(u.args.length!==e.length)return void this.addError(`Macro '${b(n)}' declared with ${u.args.length} args but called here with ${e.length}`,n.loc);this.withAnonScope(r,()=>{for(let t=0;t<o.length;t++){const r=u.args[t].ident.name;this.scopes.declareVar(r,o[t])}this.assembleLines(u.body)},s);break}case"let":{const r=t.name,n=this.scopes.findQualifiedSym([r.name],!1),e=this.evalExpr(t.value);if(void 0!==n&&this.scopes.symbolSeen(r.name))return void this.addError(`Variable '${r.name}' already defined`,t.loc);this.scopes.declareVar(r.name,e);break}case"assign":{const r=t.name;if(1!==t.name.path.length||t.name.absolute)return void this.addError("Only symbol names in the current (or owning) scopes are allowed for assignment",t.loc);const n=this.scopes.findQualifiedSym(t.name.path,t.name.absolute);if(null==n)return void this.addError(`Assignment to undeclared variable '${b(r)}'`,t.loc);if("var"!==n.type)return void this.addError(`Assignment to symbol '${b(r)}' that is not a variable.  Its type is '${n.type}'`,t.loc);const e=this.evalExpr(t.value);this.scopes.updateVar(r.path[0],e);break}case"statement-expr":this.evalExpr(t.expr);break;case"load-plugin":{const r=this.evalExprToString(t.filename,"plugin filename");if(p(r))return;const n=this.requirePlugin(r.value,t.loc);this.bindPlugin(t,n);break}case"filescope":return void this.addError("The !filescope directive is only allowed as the first directive in a source file",t.loc);default:return void this.addError(`unknown directive ${t.type}`,t.loc)}var n}assembleLines(t){if(null===t||0==t.length)return;if(0==t.length)return;const r=t=>{for(let r=0;r<t.length;r++)this.debugInfo.startLine(t[r].loc,this.codePC),this.assembleLine(t[r]),this.debugInfo.endLine(this.codePC)};let n=0;for(;n<t.length;){const{label:r,stmt:e,scopedStmts:i}=t[n];if(null!=r||null!=e||null!=i)break;n++}if(n>=t.length)return;const e=t[n];return null!=e.stmt&&"filescope"==e.stmt.type?(this.checkAndDeclareLabel(e.stmt.name),this.withLabelScope(e.stmt.name.name,()=>r(t.slice(n+1)))):r(t)}checkAndDeclareLabel(t){if(this.scopes.symbolSeen(t.name))this.addError(`Symbol '${t.name}' already defined`,t.loc);else{this.scopes.declareLabelSymbol(t,this.codePC)&&(this.needPass=!0)}}assembleLine(t){if(null==t.label&&null==t.stmt&&null==t.scopedStmts)return;null!==t.label&&this.checkAndDeclareLabel(t.label);const r=t.scopedStmts;if(null!=r){if(!t.label)throw new Error("ICE: line.label cannot be undefined");return void this.withLabelScope(t.label.name,()=>{this.assembleLines(r)})}if(null===t.stmt)return;if("insn"!==t.stmt.type)return void this.checkDirectives(t.stmt,null==t.label?null:t.label.name);const n=t.stmt.insn,e=i.default[n.mnemonic.toUpperCase()];void 0!==e?(t=>{const r=this.codePC;t();const n=this.codePC;this.debugInfo.markAsInstruction(r,n)})(()=>{null===n.imm&&null===n.abs&&null===n.absx&&null===n.absy&&null===n.absind&&this.checkSingle(e[10])||this.checkImm(n.imm,e[0])||this.checkAbs(n.abs,e[1],8)||this.checkAbs(n.absx,e[2],8)||this.checkAbs(n.absy,e[3],8)||this.checkAbs(n.absx,e[5],16)||this.checkAbs(n.absy,e[6],16)||this.checkAbs(n.absind,e[7],16)||this.checkAbs(n.indx,e[8],8)||this.checkAbs(n.indy,e[9],8)||this.checkAbs(n.abs,e[4],16)||this.checkBranch(n.abs,e[11])||this.addError(`Couldn't encode instruction '${n.mnemonic}'`,t.loc)}):this.addError(`Unknown mnemonic '${n.mnemonic}'`,t.loc)}makeSourceRelativePath(t){const r=this.peekSourceStack();return o.join(o.dirname(r),t)}assemble(t,r){try{const n=this.parse(t,r);this.assembleLines(n)}catch(t){if(!("name"in t&&"SyntaxError"==t.name)){if("name"in t&&"semantic"==t.name)return;throw t}this.addError(`Syntax error: ${t.message}`,Object.assign(Object.assign({},t.location),{source:this.peekSourceStack()}))}}_requireType(t,r){if(typeof t==r)return t;this.addError(`Expecting a ${r} value, got ${v(t)}`,t.loc)}requireString(t){return this._requireType(t,"string")}requireNumber(t){return this._requireType(t,"number")}registerPlugins(){const t=(t,r)=>{this.scopes.declareVar(t,d(r))};t("loadJson",(...t)=>{const r=this.requireString(t[0]),n=this.makeSourceRelativePath(r);return JSON.parse(this.readFileSync(n,"utf-8"))}),t("range",(...t)=>{let r=0,n=void 0;if(1==t.length)n=this.requireNumber(t[0]);else{if(2!=t.length)throw new Error("Invalid number of args to 'range'.  Expecting 1 or 2 arguments.");r=this.requireNumber(t[0]),n=this.requireNumber(t[1])}if(n==r)return[];if(n<r)throw new Error("range 'end' must be larger or equal to 'start'");return Array(n-r).fill(null).map((t,n)=>n+r)});const r={};for(let t of Object.getOwnPropertyNames(Math)){const n=Math;r[t]="random"===t?()=>{throw new Error("Math.random() not allowed as it will lead to non-reproducible builds")}:n[t]}t("Math",r)}dumpLabels(){return this.scopes.dumpLabels(this.codePC)}}const C={readFileSync:s.readFileSync};r.assemble=function(t,r=C){const n=new S(r);n.pushSource(t);let i=0;do{if(n.startPass(i),n.registerPlugins(),n.assemble(t,y(t)),i>0&&n.anyErrors())return{prg:e.from([]),labels:[],debugInfo:void 0,errors:n.errors(),warnings:n.warnings()};const r=10;if(i>r)return void console.error(`Exceeded max pass limit ${r}`);if(i+=1,!n.needPass&&0!=n.outOfRangeBranches.length){for(let t in n.outOfRangeBranches){const r=n.outOfRangeBranches[t];n.addError(`Branch target too far (must fit in signed 8-bit range, got ${r.offset})`,r.loc)}break}}while(n.needPass);return n.popSource(),{prg:n.prg(),errors:n.errors(),warnings:n.warnings(),labels:n.dumpLabels(),debugInfo:n.debugInfo}}}).call(this,n(3),n(2).Buffer)},function(t,r,n){"use strict";const e=n(0),i=n(14),o=n(15);t.exports=t=>{if("string"!=typeof t)throw new TypeError("Expected a string");const r=i(e.dirname(o()),t);if(n.c[r]&&n.c[r].parent){let t=n.c[r].parent.children.length;for(;t--;)n.c[r].parent.children[t].id===r&&n.c[r].parent.children.splice(t,1)}return delete n.c[r],n(18)(r)}},function(t,r,n){"use strict";const e=n(0),i=n(5),o=(t,r,n)=>{if("string"!=typeof t)throw new TypeError(`Expected \`fromDir\` to be of type \`string\`, got \`${typeof t}\``);if("string"!=typeof r)throw new TypeError(`Expected \`moduleId\` to be of type \`string\`, got \`${typeof r}\``);t=e.resolve(t);const o=e.join(t,"noop.js"),u=()=>i._resolveFilename(r,{id:o,filename:o,paths:i._nodeModulePaths(t)});if(n)try{return u()}catch(t){return null}return u()};t.exports=(t,r)=>o(t,r),t.exports.silent=(t,r)=>o(t,r,!0)},function(t,r,n){"use strict";const e=n(16);t.exports=()=>e().getFileName()},function(t,r,n){"use strict";const e=n(17);t.exports=()=>{const t=e();let r;for(let n=0;n<t.length;n++){if(null!==t[n].getTypeName()){r=n;break}}return t[r]}},function(t,r,n){"use strict";t.exports=()=>{const t=Error.prepareStackTrace;Error.prepareStackTrace=(t,r)=>r;const r=(new Error).stack.slice(1);return Error.prepareStackTrace=t,r}},function(t,r){function n(t){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=18},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toHex16=function(t){return t.toString(16).padStart(4,"0")}},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=n(21);r.default=class{constructor(){this.filenameToSource=new Map,this.sourceToAst=new Map}getFileContents(t,r,n){const e=this.filenameToSource.get(t);if(void 0!==e)return e;const i=n(t,r);return this.filenameToSource.set(t,i),i}parse(t,r,n){const i=this.getFileContents(t,r,n),o=this.sourceToAst.get(t);if(void 0!==o)return o;const u=e.parse(i.toString(),{source:t});return this.sourceToAst.set(t,u),u}}},function(t,r,n){"use strict";function e(t,r,n,i){this.message=t,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}!function(t,r){function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n}(e,Error),e.buildMessage=function(t,r){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var r,n="";for(r=0;r<t.parts.length;r++)n+=t.parts[r]instanceof Array?o(t.parts[r][0])+"-"+o(t.parts[r][1]):o(t.parts[r]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+e(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+e(t)})}return"Expected "+function(t){var r,e,i,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=(i=t[r],n[i.type](i));if(o.sort(),o.length>0){for(r=1,e=1;r<o.length;r++)o[r-1]!==o[r]&&(o[e]=o[r],e++);o.length=e}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:e,parse:function(t,r){r=void 0!==r?r:{};var i,o={},u={statements:We},s=We,l=function(t,r){return go(t,r,1)},a=function(t){return t},c=function(t,r){return fo.mkAsmLine(t,null,r,yo())},h=function(t,r){return fo.mkAsmLine(t,r,null,yo())},f=function(t){return fo.mkAsmLine(t,null,null,yo())},d=function(t){return fo.mkAsmLine(null,t,null,yo())},p=function(t){return fo.mkAsmLine(null,t,null,yo())},m=function(){return fo.mkAsmLine(null,null,null,yo())},g=function(t){return t},y=function(t){return fo.mkInsn(t,yo())},v=":",b=De(":",!1),w=function(t){return fo.mkLabel(t,yo())},A=function(t){return fo.mkSetPC(t,yo())},E=function(t,r){const n="byte"==t?fo.DataSize.Byte:fo.DataSize.Word;return fo.mkData(n,r,yo())},S=function(t,r){return fo.mkFill(t,r,yo())},C=function(t){return fo.mkInclude(t,yo())},k=function(t,r){let n=null,e=null;return null!==r&&(n=r[1],e=r[3]),fo.mkBinary(t,n,e,yo())},P=function(t,r,n,e){const i=[t,...n.map(t=>t.condition)],o=[r,...n.map(t=>t.trueBranch)],u=i.map((t,r)=>[t,o[r]]);return fo.mkIfElse(u,e,yo())},x="in",T=De("in",!1),_=function(t,r,n){return fo.mkFor(t,r,n,yo())},B=function(t,r,n){return fo.mkMacro(t,r,n,yo())},I="+",L=De("+",!1),$=function(t,r){return fo.mkCallMacro(t,r,yo())},R=function(t,r){return fo.mkLet(t,r,yo())},O="as",M=De("as",!1),U=function(t,r){return fo.mkLoadPlugin(t,r,yo())},j=function(t){return fo.mkError(t,yo())},Y=function(t){return fo.mkAlign(t,yo())},D=function(t){return fo.mkFilescope(t,yo())},F=function(t){return t},z=function(t,r){return{condition:t,trueBranch:r}},N=function(t){return t},V='"',X=De('"',!1),q=function(t){return fo.mkLiteral(t.join(""),yo())},W={type:"any"},Z=function(t){return t},Q=function(t){return fo.mkIdent(t,yo())},H=function(t,r){return go(t,r,1)},J=function(t){return fo.mkMacroArg(t)},G=function(t,r){return mo(t,r,null,yo())},K="x",tt=De("x",!1),rt=function(t,r){return function(t,r,n){return{...po,mnemonic:t,indx:r,loc:n}}(t,r,yo())},nt="y",et=De("y",!1),it=function(t,r){return function(t,r,n){return{...po,mnemonic:t,indy:r,loc:n}}(t,r,yo())},ot=function(t,r){return function(t,r,n){return{...po,mnemonic:t,absind:r,loc:n}}(t,r,yo())},ut=function(t,r,n){return"x"===n?function(t,r,n){return{...po,mnemonic:t,absx:r,loc:n}}(t,r,yo()):function(t,r,n){return{...po,mnemonic:t,absy:r,loc:n}}(t,r,yo())},st=function(t,r){return mo(t,null,r,yo())},lt=function(t){return mo(t,null,null,yo())},at=function(){return Ye()},ct=function(t){return t},ht="::",ft=De("::",!1),dt=function(t,r){return fo.mkScopeQualifiedIdent(go(t,r,1),!1,yo())},pt=function(t,r){return fo.mkScopeQualifiedIdent(go(t,r,1),!0,yo())},mt=function(t){return fo.mkIdent(t,yo())},gt=function(t){return t},yt="#",vt=De("#",!1),bt=function(t,r){if(null!==t){if("lo"===t)return fo.mkBinaryOp("&",r,fo.mkLiteral(255,yo(),yo()));const n=fo.mkLiteral(8,yo()),e=fo.mkLiteral(255,yo());return fo.mkBinaryOp("&",fo.mkBinaryOp(">>",r,n,yo()),e,yo())}return r},wt=function(){return"lo"},At=function(){return"hi"},Et=function(t){return t},St=function(t,r){return r.reduce(function(t,r){return fo.mkBinaryOp(r[0],t,r[1],yo())},t)},Ct=function(t,r){return fo.mkUnary(t,r,yo())},kt=function(t){return t},Pt=function(t,r){return{property:r,computed:!0}},xt=function(t,r){return{property:fo.mkIdent(r,yo()),computed:!1}},Tt=function(t,r){return r.reduce(function(t,r){return fo.mkMember(t,r.property,r.computed,yo())},t)},_t=function(t,r){return fo.mkCallFunc(t,r,yo())},Bt=function(t){return fo.mkLiteral(t,yo())},It=function(t){return t},Lt=function(t){return t},$t="$",Rt=De("$",!1),Ot=function(t){return parseInt(t,16)},Mt="%",Ut=De("%",!1),jt=function(t){return parseInt(t,2)},Yt=function(t){return t},Dt=function(){return fo.mkGetCurPC(yo())},Ft=".",zt=De(".",!1),Nt=function(){return parseFloat(Ye())},Vt="0",Xt=De("0",!1),qt=/^[1-9]/,Wt=Fe([["1","9"]],!1,!1),Zt="e",Qt=De("e",!0),Ht=/^[+\-]/,Jt=Fe(["+","-"],!1,!1),Gt=function(t){return fo.mkExprArray(null===t?[]:t,yo())},Kt=function(){return fo.mkExprObject([],yo())},tr=function(t){return fo.mkExprObject(t,yo())},rr=function(t,r){return go(t,r,2)},nr=function(t,r){return{key:t,val:r}},er=function(t){return fo.mkStmtExpr(t,yo())},ir=function(t,r){return fo.mkAssign(t,r,yo())},or=/^[a-zA-Z_]/,ur=Fe([["a","z"],["A","Z"],"_"],!1,!1),sr=/^[a-zA-Z_0-9]/,lr=Fe([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),ar=/^[0-9]/,cr=Fe([["0","9"]],!1,!1),hr=/^[0-1]/,fr=Fe([["0","1"]],!1,!1),dr=/^[0-9a-f]/i,pr=Fe([["0","9"],["a","f"]],!1,!0),mr=ze("whitespace"),gr="\t",yr=De("\t",!1),vr="\v",br=De("\v",!1),wr="\f",Ar=De("\f",!1),Er=" ",Sr=De(" ",!1),Cr="",kr=De("",!1),Pr="\ufeff",xr=De("\ufeff",!1),Tr=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,_r=Fe([" ","","",["",""],"","",""],!1,!1),Br=";",Ir=De(";",!1),Lr=/^[\n\r]/,$r=Fe(["\n","\r"],!1,!1),Rr=ze("end of line"),Or="\n",Mr=De("\n",!1),Ur="\r\n",jr=De("\r\n",!1),Yr="\r",Dr=De("\r",!1),Fr="!align",zr=De("!align",!1),Nr="!byte",Vr=De("!byte",!1),Xr=function(){return"byte"},qr="!word",Wr=De("!word",!1),Zr=function(){return"word"},Qr="!binary",Hr=De("!binary",!1),Jr="!let",Gr=De("!let",!1),Kr="!macro",tn=De("!macro",!1),rn="!if",nn=De("!if",!1),en="else",on=De("else",!1),un="elif",sn=De("elif",!1),ln="!error",an=De("!error",!1),cn="!for",hn=De("!for",!1),fn="!include",dn=De("!include",!1),pn="!fill",mn=De("!fill",!1),gn="!use",yn=De("!use",!1),vn="!filescope",bn=De("!filescope",!1),wn="!!",An=De("!!",!1),En="[",Sn=De("[",!1),Cn=function(t){return t},kn="]",Pn=De("]",!1),xn="(",Tn=De("(",!1),_n=")",Bn=De(")",!1),In="{",Ln=De("{",!1),$n="}",Rn=De("}",!1),On=(De("->",!1),De("++",!1),De("--",!1),"&"),Mn=De("&",!1),Un=/^[&]/,jn=Fe(["&"],!1,!1),Yn="*",Dn=De("*",!1),Fn=/^[=]/,zn=Fe(["="],!1,!1),Nn=/^[+=]/,Vn=Fe(["+","="],!1,!1),Xn="-",qn=De("-",!1),Wn=/^[\-=>]/,Zn=Fe(["-","=",">"],!1,!1),Qn="~",Hn=De("~",!1),Jn="!",Gn=De("!",!1),Kn="/",te=De("/",!1),re=/^[=>]/,ne=Fe(["=",">"],!1,!1),ee="<<",ie=De("<<",!1),oe=">>",ue=De(">>",!1),se="<",le=De("<",!1),ae=">",ce=De(">",!1),he="<=",fe=De("<=",!1),de=">=",pe=De(">=",!1),me="==",ge=De("==",!1),ye="!=",ve=De("!=",!1),be="^",we=De("^",!1),Ae="|",Ee=De("|",!1),Se="&&",Ce=De("&&",!1),ke="||",Pe=De("||",!1),xe=(De("?",!1),/^[>]/),Te=Fe([">"],!1,!1),_e=(De("...",!1),"="),Be=De("=",!1),Ie=(De("*=",!1),De("/=",!1),De("%=",!1),De("+=",!1),De("-=",!1),De("<<=",!1),De(">>=",!1),De("&=",!1),De("^=",!1),De("|=",!1),","),Le=De(",",!1),$e=0,Re=0,Oe=[{line:1,column:1}],Me=0,Ue=[],je=0;if("startRule"in r){if(!(r.startRule in u))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=u[r.startRule]}function Ye(){return t.substring(Re,$e)}function De(t,r){return{type:"literal",text:t,ignoreCase:r}}function Fe(t,r,n){return{type:"class",parts:t,inverted:r,ignoreCase:n}}function ze(t){return{type:"other",description:t}}function Ne(r){var n,e=Oe[r];if(e)return e;for(n=r-1;!Oe[n];)n--;for(e={line:(e=Oe[n]).line,column:e.column};n<r;)10===t.charCodeAt(n)?(e.line++,e.column=1):e.column++,n++;return Oe[r]=e,e}function Ve(t,r){var n=Ne(t),e=Ne(r);return{start:{offset:t,line:n.line,column:n.column},end:{offset:r,line:e.line,column:e.column}}}function Xe(t){$e<Me||($e>Me&&(Me=$e,Ue=[]),Ue.push(t))}function qe(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function We(){var t,r,n,e,i,u;if(t=$e,(r=Ze())!==o){for(n=[],e=$e,(i=Ui())!==o&&(u=Ze())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=Ui())!==o&&(u=Ze())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=l(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function Ze(){var t,r,n;return t=$e,$i()!==o&&(r=function(){var t,r,n,e;return t=$e,(r=He())!==o&&(n=Ni())!==o&&(e=We())!==o&&Vi()!==o?(Re=t,r=c(r,e),t=r):($e=t,t=o),t===o&&(t=$e,(r=He())!==o&&(n=Qe())!==o?(Re=t,r=h(r,n),t=r):($e=t,t=o),t===o&&(t=$e,(r=He())!==o&&(Re=t,r=f(r)),(t=r)===o&&(t=$e,(r=Qe())!==o&&(Re=t,r=d(r)),(t=r)===o&&(t=$e,(r=function(){var t,r,n;return t=$e,(r=Wi())!==o&&co()!==o&&(n=vi())!==o?(Re=t,r=A(n),t=r):($e=t,t=o),t}())!==o&&(Re=t,r=p(r)),(t=r)===o&&(t=$e,(r=$i())!==o&&(Re=t,r=m()),t=r))))),t}())!==o?((n=Mi())===o&&(n=null),n!==o?(Re=t,t=a(r)):($e=t,t=o)):($e=t,t=o),t}function Qe(){var r,n;return r=$e,(n=function(){var r,n,e,i,u,s,l,a,c,h;if(r=$e,(n=function(){var r,n;return r=$e,t.substr($e,5)===Nr?(n=Nr,$e+=5):(n=o,0===je&&Xe(Vr)),n!==o&&$i()!==o?(Re=r,n=Xr(),r=n):($e=r,r=o),r}())===o&&(n=function(){var r,n;return r=$e,t.substr($e,5)===qr?(n=qr,$e+=5):(n=o,0===je&&Xe(Wr)),n!==o&&$i()!==o?(Re=r,n=Zr(),r=n):($e=r,r=o),r}()),n!==o&&(e=ri())!==o?(Re=r,n=E(n,e),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,5)===pn?(n=pn,$e+=5):(n=o,0===je&&Xe(mn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=vi())!==o&&(i=ho())!==o&&(u=vi())!==o?(Re=r,n=S(e,u),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,8)===fn?(n=fn,$e+=8):(n=o,0===je&&Xe(dn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=vi())!==o?(Re=r,n=C(e),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,7)===Qr?(n=Qr,$e+=7):(n=o,0===je&&Xe(Hr)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=vi())!==o?(i=$e,(u=ho())!==o?((s=vi())===o&&(s=null),s!==o&&(l=ho())!==o&&(a=vi())!==o?i=u=[u,s,l,a]:($e=i,i=o)):($e=i,i=o),i===o&&(i=null),i!==o?(Re=r,n=k(e,i),r=n):($e=r,r=o)):($e=r,r=o),r===o)))){if(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,3)===rn?(n=rn,$e+=3):(n=o,0===je&&Xe(nn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o)if((e=Fi())!==o)if((i=vi())!==o)if((u=zi())!==o)if((s=Ni())!==o)if((l=We())!==o)if((a=Vi())!==o){for(c=[],h=Je();h!==o;)c.push(h),h=Je();c!==o?((h=function(){var r,n,e;return r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,4)===en?(n=en,$e+=4):(n=o,0===je&&Xe(on)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&Ni()!==o&&(e=We())!==o&&Vi()!==o?(Re=r,n=N(e),r=n):($e=r,r=o),r}())===o&&(h=null),h!==o?(Re=r,n=P(i,l,c,h),r=n):($e=r,r=o)):($e=r,r=o)}else $e=r,r=o;else $e=r,r=o;else $e=r,r=o;else $e=r,r=o;else $e=r,r=o;else $e=r,r=o;else $e=r,r=o;r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,4)===cn?(n=cn,$e+=4):(n=o,0===je&&Xe(hn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=oi())!==o?(t.substr($e,2)===x?(i=x,$e+=2):(i=o,0===je&&Xe(T)),i!==o&&(u=$i())!==o&&(s=vi())!==o&&(l=Ni())!==o&&(a=We())!==o&&(c=Vi())!==o?(Re=r,n=_(e,s,a),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,6)===Kr?(n=Kr,$e+=6):(n=o,0===je&&Xe(tn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=function(){var t,r;return t=$e,(r=ui())!==o&&(Re=t,r=Q(r)),t=r}())!==o&&(i=Fi())!==o?((u=function(){var t,r,n,e,i,u;if(t=$e,(r=ti())!==o){for(n=[],e=$e,(i=ho())!==o&&(u=ti())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=ho())!==o&&(u=ti())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,r=H(r,n),t=r):($e=t,t=o)}else $e=t,t=o;return t}())===o&&(u=null),u!==o&&(s=zi())!==o&&(l=Ni())!==o&&(a=We())!==o&&(c=Vi())!==o?(Re=r,n=B(e,u,a),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,43===t.charCodeAt($e)?(n=I,$e++):(n=o,0===je&&Xe(L)),n!==o&&(e=ii())!==o&&(i=Fi())!==o?((u=ri())===o&&(u=null),u!==o&&(s=zi())!==o?(Re=r,n=$(e,u),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,4)===Jr?(n=Jr,$e+=4):(n=o,0===je&&Xe(Gr)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=oi())!==o&&(i=co())!==o&&(u=vi())!==o?(Re=r,n=R(e,u),r=n):($e=r,r=o),r===o&&(r=xi())===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,4)===gn?(n=gn,$e+=4):(n=o,0===je&&Xe(yn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=Ge())!==o?(t.substr($e,2)===O?(i=O,$e+=2):(i=o,0===je&&Xe(M)),i!==o&&(u=$i())!==o&&(s=oi())!==o?(Re=r,n=U(e,s),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,6)===ln?(n=ln,$e+=6):(n=o,0===je&&Xe(an)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=Ge())!==o?(Re=r,n=j(e),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,6)===Fr?(n=Fr,$e+=6):(n=o,0===je&&Xe(zr)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=vi())!==o?(Re=r,n=Y(e),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,10)===vn?(n=vn,$e+=10):(n=o,0===je&&Xe(bn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=oi())!==o?(Re=r,n=D(e),r=n):($e=r,r=o),r===o&&(r=$e,(n=function(){var r,n,e;return r=$e,t.substr($e,2)===wn?(n=wn,$e+=2):(n=o,0===je&&Xe(An)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}())!==o&&(e=function(){var t,r;return(t=xi())===o&&(t=$e,(r=vi())!==o&&(Re=t,r=er(r)),t=r),t}())!==o?(Re=r,n=F(e),r=n):($e=r,r=o))))))))))}return r}())!==o&&(Re=r,n=g(n)),(r=n)===o&&(r=$e,(n=function(){var r,n,e,i,u,s,l;return r=$e,(n=si())!==o&&(e=function(){var r,n,e,i;return r=$e,35===t.charCodeAt($e)?(n=yt,$e++):(n=o,0===je&&Xe(vt)),n!==o?((e=function(){var t,r;return t=$e,(r=to())!==o&&(Re=t,r=wt()),(t=r)===o&&(t=$e,(r=ro())!==o&&(Re=t,r=At()),t=r),t}())===o&&(e=null),e!==o&&(i=vi())!==o?(Re=r,n=bt(e,i),r=n):($e=r,r=o)):($e=r,r=o),r}())!==o?(Re=r,n=G(n,e),r=n):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(e=Fi())!==o&&(i=li())!==o&&(u=ho())!==o?(120===t.charCodeAt($e)?(s=K,$e++):(s=o,0===je&&Xe(tt)),s!==o&&(l=$i())!==o&&zi()!==o?(Re=r,n=rt(n,i),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(e=Fi())!==o&&(i=li())!==o&&(u=zi())!==o&&(s=ho())!==o?(121===t.charCodeAt($e)?(l=nt,$e++):(l=o,0===je&&Xe(et)),l!==o&&$i()!==o?(Re=r,n=it(n,i),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(e=Fi())!==o&&(i=li())!==o&&(u=zi())!==o?(Re=r,n=ot(n,i),r=n):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(e=li())!==o&&(i=ho())!==o?(120===t.charCodeAt($e)?(u=K,$e++):(u=o,0===je&&Xe(tt)),u===o&&(121===t.charCodeAt($e)?(u=nt,$e++):(u=o,0===je&&Xe(et))),u!==o&&(s=$i())!==o?(Re=r,n=ut(n,e,u),r=n):($e=r,r=o)):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(e=li())!==o?(Re=r,n=st(n,e),r=n):($e=r,r=o),r===o&&(r=$e,(n=si())!==o&&(Re=r,n=lt(n)),r=n)))))),r}())!==o&&(Re=r,n=y(n)),r=n),r}function He(){var r,n,e;return r=$e,(n=ni())!==o?(58===t.charCodeAt($e)?(e=v,$e++):(e=o,0===je&&Xe(b)),e!==o&&$i()!==o?(Re=r,r=n=w(n)):($e=r,r=o)):($e=r,r=o),r}function Je(){var r,n,e;return r=$e,function(){var r,n,e;return r=$e,t.substr($e,4)===un?(n=un,$e+=4):(n=o,0===je&&Xe(sn)),n!==o&&(e=$i())!==o?r=n=[n,e]:($e=r,r=o),r}()!==o&&Fi()!==o&&(n=vi())!==o&&zi()!==o&&Ni()!==o&&(e=We())!==o&&Vi()!==o?(Re=r,r=z(n,e)):($e=r,r=o),r}function Ge(){var r,n,e,i;if(r=$e,34===t.charCodeAt($e)?(n=V,$e++):(n=o,0===je&&Xe(X)),n!==o){for(e=[],i=Ke();i!==o;)e.push(i),i=Ke();e!==o?(34===t.charCodeAt($e)?(i=V,$e++):(i=o,0===je&&Xe(X)),i!==o&&$i()!==o?(Re=r,r=n=q(e)):($e=r,r=o)):($e=r,r=o)}else $e=r,r=o;return r}function Ke(){var r,n,e;return r=$e,n=$e,je++,34===t.charCodeAt($e)?(e=V,$e++):(e=o,0===je&&Xe(X)),je--,e===o?n=void 0:($e=n,n=o),n!==o?(t.length>$e?(e=t.charAt($e),$e++):(e=o,0===je&&Xe(W)),e!==o?(Re=r,r=n=Z(e)):($e=r,r=o)):($e=r,r=o),r}function ti(){var t,r;return t=$e,(r=oi())!==o&&(Re=t,r=J(r)),t=r}function ri(){var t,r,n,e,i,u;if(t=$e,(r=vi())!==o){for(n=[],e=$e,(i=ho())!==o&&(u=vi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=ho())!==o&&(u=vi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=H(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function ni(){var t,r,n,e,i;if(t=$e,r=$e,n=[],(e=Ti())!==o)for(;e!==o;)n.push(e),e=Ti();else n=o;if(n!==o){for(e=[],i=_i();i!==o;)e.push(i),i=_i();e!==o?r=n=[n,e]:($e=r,r=o)}else $e=r,r=o;return r!==o&&(Re=t,r=at()),t=r}function ei(){var t,r;return t=$e,(r=ni())!==o&&$i()!==o?(Re=t,t=r=ct(r)):($e=t,t=o),t}function ii(){var r,n,e,i,u,s,l;if(r=$e,(n=ni())!==o){for(e=[],i=$e,t.substr($e,2)===ht?(u=ht,$e+=2):(u=o,0===je&&Xe(ft)),u!==o&&(s=ni())!==o?i=u=[u,s]:($e=i,i=o);i!==o;)e.push(i),i=$e,t.substr($e,2)===ht?(u=ht,$e+=2):(u=o,0===je&&Xe(ft)),u!==o&&(s=ni())!==o?i=u=[u,s]:($e=i,i=o);e!==o&&(i=$i())!==o?(Re=r,r=n=dt(n,e)):($e=r,r=o)}else $e=r,r=o;if(r===o)if(r=$e,t.substr($e,2)===ht?(n=ht,$e+=2):(n=o,0===je&&Xe(ft)),n!==o)if((e=ni())!==o){for(i=[],u=$e,t.substr($e,2)===ht?(s=ht,$e+=2):(s=o,0===je&&Xe(ft)),s!==o&&(l=ni())!==o?u=s=[s,l]:($e=u,u=o);u!==o;)i.push(u),u=$e,t.substr($e,2)===ht?(s=ht,$e+=2):(s=o,0===je&&Xe(ft)),s!==o&&(l=ni())!==o?u=s=[s,l]:($e=u,u=o);i!==o&&(u=$i())!==o?(Re=r,r=n=pt(e,i)):($e=r,r=o)}else $e=r,r=o;else $e=r,r=o;return r}function oi(){var t,r;return t=$e,(r=ui())!==o&&(Re=t,r=mt(r)),t=r}function ui(){var t,r;return t=$e,(r=ni())!==o&&$i()!==o?(Re=t,t=r=gt(r)):($e=t,t=o),t}function si(){var t,r;return t=$e,(r=ni())!==o&&$i()!==o?(Re=t,t=r=ct(r)):($e=t,t=o),t}function li(){var t,r;return t=$e,(r=vi())!==o&&(Re=t,r=Et(r)),t=r}function ai(){var t,r,n,e,i,u;if(t=$e,(r=bi())!==o){for(n=[],e=$e,(i=Wi())===o&&(i=Hi())===o&&(i=Ji()),i!==o&&(u=bi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=Wi())===o&&(i=Hi())===o&&(i=Ji()),i!==o&&(u=bi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t===o&&(t=Ai()),t}function ci(){var t,r,n,e,i,u;if(t=$e,(r=ai())!==o){for(n=[],e=$e,(i=Zi())===o&&(i=Qi()),i!==o&&(u=ai())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=Zi())===o&&(i=Qi()),i!==o&&(u=ai())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function hi(){var t,r,n,e,i,u;if(t=$e,(r=ci())!==o){for(n=[],e=$e,(i=Gi())===o&&(i=Ki()),i!==o&&(u=ci())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=Gi())===o&&(i=Ki()),i!==o&&(u=ci())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function fi(){var t,r,n,e,i,u;if(t=$e,(r=hi())!==o){for(n=[],e=$e,(i=no())===o&&(i=eo())===o&&(i=to())===o&&(i=ro()),i!==o&&(u=hi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=no())===o&&(i=eo())===o&&(i=to())===o&&(i=ro()),i!==o&&(u=hi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function di(){var t,r,n,e,i,u;if(t=$e,(r=fi())!==o){for(n=[],e=$e,(i=io())===o&&(i=oo()),i!==o&&(u=fi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=io())===o&&(i=oo()),i!==o&&(u=fi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function pi(){var t,r,n,e,i,u;if(t=$e,(r=di())!==o){for(n=[],e=$e,(i=qi())!==o&&(u=di())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=qi())!==o&&(u=di())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function mi(){var t,r,n,e,i,u;if(t=$e,(r=pi())!==o){for(n=[],e=$e,(i=uo())!==o&&(u=pi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=uo())!==o&&(u=pi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function gi(){var t,r,n,e,i,u;if(t=$e,(r=mi())!==o){for(n=[],e=$e,(i=so())!==o&&(u=mi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=so())!==o&&(u=mi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function yi(){var t,r,n,e,i,u;if(t=$e,(r=gi())!==o){for(n=[],e=$e,(i=lo())!==o&&(u=gi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=lo())!==o&&(u=gi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function vi(){var t,r,n,e,i,u;if(t=$e,(r=yi())!==o){for(n=[],e=$e,(i=ao())!==o&&(u=yi())!==o?e=i=[i,u]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=ao())!==o&&(u=yi())!==o?e=i=[i,u]:($e=e,e=o);n!==o?(Re=t,t=r=St(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function bi(){var r,n,e;return(r=function(){var t;return(t=function(){var t,r,n;return t=$e,(r=wi())!==o&&Fi()!==o?((n=ri())===o&&(n=null),n!==o&&zi()!==o?(Re=t,r=_t(r,n),t=r):($e=t,t=o)):($e=t,t=o),t}())===o&&(t=wi()),t}())===o&&(r=$e,(n=function(){var r,n;return r=$e,(n=Zi())===o&&(n=Qi())===o&&(n=function(){var r,n;return r=$e,126===t.charCodeAt($e)?(n=Qn,$e++):(n=o,0===je&&Xe(Hn)),n!==o&&$i()!==o?(Re=r,n=Cn(n),r=n):($e=r,r=o),r}())===o&&(n=function(){var r,n,e,i;return r=$e,33===t.charCodeAt($e)?(n=Jn,$e++):(n=o,0===je&&Xe(Gn)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,n=Cn(n),r=n):($e=r,r=o)):($e=r,r=o),r}()),n!==o&&(Re=r,n=kt(n)),r=n}())!==o&&(e=bi())!==o?(Re=r,r=n=Ct(n,e)):($e=r,r=o)),r}function wi(){var t,r,n,e,i;if(t=$e,(r=Ai())!==o){for(n=[],e=$e,Yi()!==o&&(i=vi())!==o&&Di()!==o?(Re=e,e=Pt(r,i)):($e=e,e=o),e===o&&(e=$e,Xi()!==o&&(i=ei())!==o?(Re=e,e=xt(r,i)):($e=e,e=o));e!==o;)n.push(e),e=$e,Yi()!==o&&(i=vi())!==o&&Di()!==o?(Re=e,e=Pt(r,i)):($e=e,e=o),e===o&&(e=$e,Xi()!==o&&(i=ei())!==o?(Re=e,e=xt(r,i)):($e=e,e=o));n!==o?(Re=t,t=r=Tt(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function Ai(){var t,r,n;return t=$e,(r=Ei())!==o&&(Re=t,r=Bt(r)),(t=r)===o&&(t=$e,(r=ii())!==o&&(Re=t,r=ct(r)),(t=r)===o&&(t=$e,(r=Ge())!==o&&(Re=t,r=It(r)),(t=r)===o&&(t=function(){var t,r,n;return t=$e,(r=Yi())!==o?((n=ri())===o&&(n=null),n!==o&&Di()!==o?(Re=t,r=Gt(n),t=r):($e=t,t=o)):($e=t,t=o),t}())===o&&(t=function(){var t,r,n;return t=$e,(r=Ni())!==o&&Oi()!==o&&(n=Vi())!==o?(Re=t,r=Kt(),t=r):($e=t,t=o),t===o&&(t=$e,(r=Ni())!==o&&Oi()!==o&&(n=ki())!==o&&Oi()!==o&&Vi()!==o?(Re=t,r=tr(n),t=r):($e=t,t=o),t===o&&(t=$e,(r=Ni())!==o&&Oi()!==o&&(n=ki())!==o&&Oi()!==o&&ho()!==o&&Oi()!==o&&Vi()!==o?(Re=t,r=tr(n),t=r):($e=t,t=o))),t}())===o&&(t=function(){var t,r;return t=$e,(r=Wi())!==o&&(Re=t,r=Dt()),t=r}())===o&&(t=$e,(r=Fi())!==o&&(n=vi())!==o&&zi()!==o?(Re=t,t=r=Lt(n)):($e=t,t=o)))),t}function Ei(){var r,n,e,i,u;if(r=$e,36===t.charCodeAt($e)?(n=$t,$e++):(n=o,0===je&&Xe(Rt)),n!==o){if(e=$e,i=[],(u=Li())!==o)for(;u!==o;)i.push(u),u=Li();else i=o;(e=i!==o?t.substring(e,$e):i)!==o&&(i=$i())!==o?(Re=r,r=n=Ot(e)):($e=r,r=o)}else $e=r,r=o;if(r===o){if(r=$e,37===t.charCodeAt($e)?(n=Mt,$e++):(n=o,0===je&&Xe(Ut)),n!==o){if(e=$e,i=[],(u=Ii())!==o)for(;u!==o;)i.push(u),u=Ii();else i=o;(e=i!==o?t.substring(e,$e):i)!==o&&(i=$i())!==o?(Re=r,r=n=jt(e)):($e=r,r=o)}else $e=r,r=o;r===o&&(r=$e,(n=function(){var r,n,e,i,u;if(r=$e,(n=Si())!==o)if(46===t.charCodeAt($e)?(e=Ft,$e++):(e=o,0===je&&Xe(zt)),e!==o){for(i=[],u=Bi();u!==o;)i.push(u),u=Bi();i!==o?((u=Ci())===o&&(u=null),u!==o?(Re=r,n=Nt(),r=n):($e=r,r=o)):($e=r,r=o)}else $e=r,r=o;else $e=r,r=o;if(r===o){if(r=$e,46===t.charCodeAt($e)?(n=Ft,$e++):(n=o,0===je&&Xe(zt)),n!==o){if(e=[],(i=Bi())!==o)for(;i!==o;)e.push(i),i=Bi();else e=o;e!==o?((i=Ci())===o&&(i=null),i!==o?(Re=r,n=Nt(),r=n):($e=r,r=o)):($e=r,r=o)}else $e=r,r=o;r===o&&(r=$e,(n=Si())!==o?((e=Ci())===o&&(e=null),e!==o?(Re=r,n=Nt(),r=n):($e=r,r=o)):($e=r,r=o))}return r}())!==o&&(e=$i())!==o?(Re=r,r=n=Yt(n)):($e=r,r=o))}return r}function Si(){var r,n,e,i;if(48===t.charCodeAt($e)?(r=Vt,$e++):(r=o,0===je&&Xe(Xt)),r===o)if(r=$e,(n=function(){var r;return qt.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(Wt)),r}())!==o){for(e=[],i=Bi();i!==o;)e.push(i),i=Bi();e!==o?r=n=[n,e]:($e=r,r=o)}else $e=r,r=o;return r}function Ci(){var r,n,e;return r=$e,(n=function(){var r;return t.substr($e,1).toLowerCase()===Zt?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(Qt)),r}())!==o&&(e=function(){var r,n,e,i;if(r=$e,Ht.test(t.charAt($e))?(n=t.charAt($e),$e++):(n=o,0===je&&Xe(Jt)),n===o&&(n=null),n!==o){if(e=[],(i=Bi())!==o)for(;i!==o;)e.push(i),i=Bi();else e=o;e!==o?r=n=[n,e]:($e=r,r=o)}else $e=r,r=o;return r}())!==o?r=n=[n,e]:($e=r,r=o),r}function ki(){var t,r,n,e,i,u,s;if(t=$e,(r=Pi())!==o){for(n=[],e=$e,(i=ho())!==o&&(u=Oi())!==o&&(s=Pi())!==o?e=i=[i,u,s]:($e=e,e=o);e!==o;)n.push(e),e=$e,(i=ho())!==o&&(u=Oi())!==o&&(s=Pi())!==o?e=i=[i,u,s]:($e=e,e=o);n!==o?(Re=t,t=r=rr(r,n)):($e=t,t=o)}else $e=t,t=o;return t}function Pi(){var r,n,e;return r=$e,(n=function(){var t,r;return(t=oi())===o&&(t=Ge())===o&&(t=$e,(r=Ei())!==o&&(Re=t,r=Bt(r)),t=r),t}())!==o&&function(){var r,n,e,i;return r=$e,58===t.charCodeAt($e)?(n=v,$e++):(n=o,0===je&&Xe(b)),n!==o?(e=$e,je++,xe.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(Te)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,n=Cn(n),r=n):($e=r,r=o)):($e=r,r=o),r}()!==o&&(e=vi())!==o?(Re=r,r=n=nr(n,e)):($e=r,r=o),r}function xi(){var t,r,n;return t=$e,(r=ii())!==o&&co()!==o&&(n=vi())!==o?(Re=t,t=r=ir(r,n)):($e=t,t=o),t}function Ti(){var r;return or.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(ur)),r}function _i(){var r;return sr.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(lr)),r}function Bi(){var r;return ar.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(cr)),r}function Ii(){var r;return hr.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(fr)),r}function Li(){var r;return dr.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(pr)),r}function $i(){var t,r;for(je++,t=[],r=Ri();r!==o;)t.push(r),r=Ri();return je--,t===o&&(r=o,0===je&&Xe(mr)),t}function Ri(){var r;return je++,9===t.charCodeAt($e)?(r=gr,$e++):(r=o,0===je&&Xe(yr)),r===o&&(11===t.charCodeAt($e)?(r=vr,$e++):(r=o,0===je&&Xe(br)),r===o&&(12===t.charCodeAt($e)?(r=wr,$e++):(r=o,0===je&&Xe(Ar)),r===o&&(32===t.charCodeAt($e)?(r=Er,$e++):(r=o,0===je&&Xe(Sr)),r===o&&(160===t.charCodeAt($e)?(r=Cr,$e++):(r=o,0===je&&Xe(kr)),r===o&&(65279===t.charCodeAt($e)?(r=Pr,$e++):(r=o,0===je&&Xe(xr)),r===o&&(r=function(){var r;return Tr.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe(_r)),r}())))))),je--,r===o&&0===je&&Xe(mr),r}function Oi(){var t,r;for(t=[],(r=Ri())===o&&(r=ji())===o&&(r=Mi());r!==o;)t.push(r),(r=Ri())===o&&(r=ji())===o&&(r=Mi());return t}function Mi(){var r,n,e,i,u,s;if(r=$e,59===t.charCodeAt($e)?(n=Br,$e++):(n=o,0===je&&Xe(Ir)),n!==o){for(e=[],i=$e,u=$e,je++,s=Ui(),je--,s===o?u=void 0:($e=u,u=o),u!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===je&&Xe(W)),s!==o?i=u=[u,s]:($e=i,i=o)):($e=i,i=o);i!==o;)e.push(i),i=$e,u=$e,je++,s=Ui(),je--,s===o?u=void 0:($e=u,u=o),u!==o?(t.length>$e?(s=t.charAt($e),$e++):(s=o,0===je&&Xe(W)),s!==o?i=u=[u,s]:($e=i,i=o)):($e=i,i=o);e!==o?r=n=[n,e]:($e=r,r=o)}else $e=r,r=o;return r}function Ui(){var r;return Lr.test(t.charAt($e))?(r=t.charAt($e),$e++):(r=o,0===je&&Xe($r)),r}function ji(){var r;return je++,10===t.charCodeAt($e)?(r=Or,$e++):(r=o,0===je&&Xe(Mr)),r===o&&(t.substr($e,2)===Ur?(r=Ur,$e+=2):(r=o,0===je&&Xe(jr)),r===o&&(13===t.charCodeAt($e)?(r=Yr,$e++):(r=o,0===je&&Xe(Dr)))),je--,r===o&&0===je&&Xe(Rr),r}function Yi(){var r,n;return r=$e,91===t.charCodeAt($e)?(n=En,$e++):(n=o,0===je&&Xe(Sn)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function Di(){var r,n;return r=$e,93===t.charCodeAt($e)?(n=kn,$e++):(n=o,0===je&&Xe(Pn)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function Fi(){var r,n;return r=$e,40===t.charCodeAt($e)?(n=xn,$e++):(n=o,0===je&&Xe(Tn)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function zi(){var r,n;return r=$e,41===t.charCodeAt($e)?(n=_n,$e++):(n=o,0===je&&Xe(Bn)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function Ni(){var r,n;return r=$e,123===t.charCodeAt($e)?(n=In,$e++):(n=o,0===je&&Xe(Ln)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function Vi(){var r,n;return r=$e,125===t.charCodeAt($e)?(n=$n,$e++):(n=o,0===je&&Xe(Rn)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function Xi(){var r,n;return r=$e,46===t.charCodeAt($e)?(n=Ft,$e++):(n=o,0===je&&Xe(zt)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function qi(){var r,n,e,i;return r=$e,38===t.charCodeAt($e)?(n=On,$e++):(n=o,0===je&&Xe(Mn)),n!==o?(e=$e,je++,Un.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(jn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Wi(){var r,n,e,i;return r=$e,42===t.charCodeAt($e)?(n=Yn,$e++):(n=o,0===je&&Xe(Dn)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Zi(){var r,n,e,i;return r=$e,43===t.charCodeAt($e)?(n=I,$e++):(n=o,0===je&&Xe(L)),n!==o?(e=$e,je++,Nn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(Vn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Qi(){var r,n,e,i;return r=$e,45===t.charCodeAt($e)?(n=Xn,$e++):(n=o,0===je&&Xe(qn)),n!==o?(e=$e,je++,Wn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(Zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Hi(){var r,n,e,i;return r=$e,47===t.charCodeAt($e)?(n=Kn,$e++):(n=o,0===je&&Xe(te)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Ji(){var r,n,e,i;return r=$e,37===t.charCodeAt($e)?(n=Mt,$e++):(n=o,0===je&&Xe(Ut)),n!==o?(e=$e,je++,re.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(ne)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Gi(){var r,n,e,i;return r=$e,t.substr($e,2)===ee?(n=ee,$e+=2):(n=o,0===je&&Xe(ie)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function Ki(){var r,n,e,i;return r=$e,t.substr($e,2)===oe?(n=oe,$e+=2):(n=o,0===je&&Xe(ue)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function to(){var r,n,e,i;return r=$e,60===t.charCodeAt($e)?(n=se,$e++):(n=o,0===je&&Xe(le)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function ro(){var r,n,e,i;return r=$e,62===t.charCodeAt($e)?(n=ae,$e++):(n=o,0===je&&Xe(ce)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function no(){var r,n;return r=$e,t.substr($e,2)===he?(n=he,$e+=2):(n=o,0===je&&Xe(fe)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function eo(){var r,n;return r=$e,t.substr($e,2)===de?(n=de,$e+=2):(n=o,0===je&&Xe(pe)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function io(){var r,n;return r=$e,t.substr($e,2)===me?(n=me,$e+=2):(n=o,0===je&&Xe(ge)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function oo(){var r,n;return r=$e,t.substr($e,2)===ye?(n=ye,$e+=2):(n=o,0===je&&Xe(ve)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function uo(){var r,n,e,i;return r=$e,94===t.charCodeAt($e)?(n=be,$e++):(n=o,0===je&&Xe(we)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function so(){var r,n,e,i;return r=$e,124===t.charCodeAt($e)?(n=Ae,$e++):(n=o,0===je&&Xe(Ee)),n!==o?(e=$e,je++,Fn.test(t.charAt($e))?(i=t.charAt($e),$e++):(i=o,0===je&&Xe(zn)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function lo(){var r,n;return r=$e,t.substr($e,2)===Se?(n=Se,$e+=2):(n=o,0===je&&Xe(Ce)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function ao(){var r,n;return r=$e,t.substr($e,2)===ke?(n=ke,$e+=2):(n=o,0===je&&Xe(Pe)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}function co(){var r,n,e,i;return r=$e,61===t.charCodeAt($e)?(n=_e,$e++):(n=o,0===je&&Xe(Be)),n!==o?(e=$e,je++,61===t.charCodeAt($e)?(i=_e,$e++):(i=o,0===je&&Xe(Be)),je--,i===o?e=void 0:($e=e,e=o),e!==o&&(i=$i())!==o?(Re=r,r=n=Cn(n)):($e=r,r=o)):($e=r,r=o),r}function ho(){var r,n;return r=$e,44===t.charCodeAt($e)?(n=Ie,$e++):(n=o,0===je&&Xe(Le)),n!==o&&$i()!==o?(Re=r,r=n=Cn(n)):($e=r,r=o),r}var fo=n(6);fo.objectToAst;const po={mnemonic:null,imm:null,abs:null,absx:null,absy:null,absind:null,indx:null,indy:null};function mo(t,r,n,e){return{...po,mnemonic:t,imm:r,abs:n,loc:e}}function go(t,r,n){return[t].concat(function(t,r){return t.map(function(t){return t[r]})}(r,n))}function yo(){return{...Ve(Re,$e),source:r.source}}if((i=s())!==o&&$e===t.length)return i;throw i!==o&&$e<t.length&&Xe({type:"end"}),qe(Ue,Me<t.length?t.charAt(Me):null,Me<t.length?Ve(Me,Me+1):Ve(Me,Me))}}},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const e=n(0),i=n(23);r.DebugInfoTracker=class{constructor(){this.lineStack=[],this.pcToLocs={},this.insnBitset=new i}startLine(t,r){const n={source:e.resolve(t.source),lineNo:t.start.line};this.lineStack.push({loc:n,pc:r})}endLine(t){const r=this.lineStack.pop();if(!r)throw new Error("internal compiler error, mismatching start/end lines in debugInfo");if(t-r.pc>0){const t=this.pcToLocs[r.pc]||[];t.push(r.loc),this.pcToLocs[r.pc]=t}}markAsInstruction(t,r){for(let n=t;n<r;n++)this.insnBitset.add(n)}info(){const t=this.insnBitset.clone();return{pcToLocs:this.pcToLocs,isInstruction:r=>t.has(r)}}}},function(t,r,n){"use strict";function e(t){if(this.words=[],null!=(n=t)&&void 0!==n[Symbol.iterator])for(var r of t)this.add(r);var n}e.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},e.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},e.prototype.clear=function(){this.words=[]},e.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},e.prototype.isEmpty=function(t){for(var r=this.words.length,n=0;n<r;n++)if(0!==this.words[n])return!1;return!0},e.prototype.has=function(t){return 0!=(this.words[t>>>5]&1<<t)},e.prototype.checkedAdd=function(t){this.resize(t);var r=this.words[t>>>5],n=r|1<<t;return this.words[t>>>5]=n,(n^r)>>>t},e.prototype.trim=function(t){for(var r=this.words.length;r>0&&0===this.words[r-1];)r--;this.words=this.words.slice(0,r)},e.prototype.resize=function(t){for(var r=t+32>>>5,n=this.words.length;n<r;n++)this.words[n]=0},e.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.prototype.hammingWeight4=function(t,r,n,e){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135))>>>24},e.prototype.size=function(){for(var t=0,r=this.words.length,n=this.words,e=0;e<r;e++)t+=this.hammingWeight(n[e]);return t},e.prototype.array=function(){for(var t=new Array(this.size()),r=0,n=this.words.length,e=0;e<n;++e)for(var i=this.words[e];0!=i;){var o=i&-i;t[r++]=(e<<5)+this.hammingWeight(o-1|0),i^=o}return t},e.prototype.forEach=function(t){for(var r=this.words.length,n=0;n<r;++n)for(var e=this.words[n];0!=e;){var i=e&-e;t((n<<5)+this.hammingWeight(i-1|0)),e^=i}},e.prototype.clone=function(){var t=Object.create(e.prototype);return t.words=this.words.slice(),t},e.prototype.intersects=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0;n<r;++n)if(0!=(this.words[n]&t.words[n]))return!0;return!1},e.prototype.intersection=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0;n+7<r;n+=8)this.words[n]&=t.words[n],this.words[n+1]&=t.words[n+1],this.words[n+2]&=t.words[n+2],this.words[n+3]&=t.words[n+3],this.words[n+4]&=t.words[n+4],this.words[n+5]&=t.words[n+5],this.words[n+6]&=t.words[n+6],this.words[n+7]&=t.words[n+7];for(;n<r;++n)this.words[n]&=t.words[n];var e=this.words.length;for(n=r;n<e;++n)this.words[n]=0;return this},e.prototype.intersection_size=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0,e=0;e<r;++e)n+=this.hammingWeight(this.words[e]&t.words[e]);return n},e.prototype.new_intersection=function(t){var r=Object.create(e.prototype),n=Math.min(this.words.length,t.words.length);r.words=new Array(n);for(var i=n,o=0;o+7<i;o+=8)r.words[o]=this.words[o]&t.words[o],r.words[o+1]=this.words[o+1]&t.words[o+1],r.words[o+2]=this.words[o+2]&t.words[o+2],r.words[o+3]=this.words[o+3]&t.words[o+3],r.words[o+4]=this.words[o+4]&t.words[o+4],r.words[o+5]=this.words[o+5]&t.words[o+5],r.words[o+6]=this.words[o+6]&t.words[o+6],r.words[o+7]=this.words[o+7]&t.words[o+7];for(;o<i;++o)r.words[o]=this.words[o]&t.words[o];return r},e.prototype.equals=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0;n<r;++n)if(this.words[n]!=t.words[n])return!1;if(this.words.length<t.words.length){var e=t.words.length;for(n=this.words.length;n<e;++n)if(0!=t.words[n])return!1}else if(t.words.length<this.words.length)for(e=this.words.length,n=t.words.length;n<e;++n)if(0!=this.words[n])return!1;return!0},e.prototype.difference=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0;n+7<r;n+=8)this.words[n]&=~t.words[n],this.words[n+1]&=~t.words[n+1],this.words[n+2]&=~t.words[n+2],this.words[n+3]&=~t.words[n+3],this.words[n+4]&=~t.words[n+4],this.words[n+5]&=~t.words[n+5],this.words[n+6]&=~t.words[n+6],this.words[n+7]&=~t.words[n+7];for(;n<r;++n)this.words[n]&=~t.words[n];return this},e.prototype.difference_size=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0,e=0;e<r;++e)n+=this.hammingWeight(this.words[e]&~t.words[e]);for(var i=this.words.length;e<i;++e)n+=this.hammingWeight(this.words[e]);return n},e.prototype.toString=function(){return"{"+this.array().join(",")+"}"},e.prototype.union=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0;n+7<r;n+=8)this.words[n]|=t.words[n],this.words[n+1]|=t.words[n+1],this.words[n+2]|=t.words[n+2],this.words[n+3]|=t.words[n+3],this.words[n+4]|=t.words[n+4],this.words[n+5]|=t.words[n+5],this.words[n+6]|=t.words[n+6],this.words[n+7]|=t.words[n+7];for(;n<r;++n)this.words[n]|=t.words[n];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);var e=t.words.length;for(n=r;n<e;++n)this.words[n]=t.words[n]}return this},e.prototype.new_union=function(t){var r=Object.create(e.prototype),n=Math.max(this.words.length,t.words.length);r.words=new Array(n);for(var i=Math.min(this.words.length,t.words.length),o=0;o+7<i;o+=8)r.words[o]=this.words[o]|t.words[o],r.words[o+1]=this.words[o+1]|t.words[o+1],r.words[o+2]=this.words[o+2]|t.words[o+2],r.words[o+3]=this.words[o+3]|t.words[o+3],r.words[o+4]=this.words[o+4]|t.words[o+4],r.words[o+5]=this.words[o+5]|t.words[o+5],r.words[o+6]=this.words[o+6]|t.words[o+6],r.words[o+7]=this.words[o+7]|t.words[o+7];for(;o<i;++o)r.words[o]=this.words[o]|t.words[o];var u=this.words.length;for(o=i;o<u;++o)r.words[o]=this.words[o];var s=t.words.length;for(o=i;o<s;++o)r.words[o]=t.words[o];return r},e.prototype.new_difference=function(t){return this.clone().difference(t)},e.prototype.union_size=function(t){for(var r=Math.min(this.words.length,t.words.length),n=0,e=0;e<r;++e)n+=this.hammingWeight(this.words[e]|t.words[e]);if(this.words.length<t.words.length){var i=t.words.length;for(e=this.words.length;e<i;++e)n+=this.hammingWeight(0|t.words[e])}else for(i=this.words.length,e=t.words.length;e<i;++e)n+=this.hammingWeight(0|this.words[e]);return n},t.exports=e},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const e=n(4);function i(t){return`${t.toString(16).toUpperCase().padStart(2,"0")}`}function o(t){return`${t.toString(16).toUpperCase().padStart(4,"0")}`}function u(t,r){var n=0,e=t.length,i=[];for(n=0;n<e;n+=r){const e=t.slice(n,n+r);i.push(e)}return i}r.chunkArray=u;class s{constructor(t,r){this.buf=t,this.outputPadChars="     ",this.outputBytesPerLine=1,this.bytes={startPC:0,bytes:[]},this.byte=()=>{const t=this.buf.readUInt8(this.curOffs);return this.curOffs++,t},this.print=(t,r,n)=>{this.flushBytes();const e=i(r[0]),u=r.length>=2?i(r[1]):"  ",s=r.length>=3?i(r[2]):"  ";this.output.push(`${o(t)}: ${e} ${u} ${s}${this.outputPadChars}${n}`)},this.output=[],this.curAddr=t.readUInt8(0)+(t.readUInt8(1)<<8),this.curOffs=2,this.disasmOptions=r,this.disasmOptions&&this.disasmOptions.isInstruction&&(this.outputPadChars="                    ",this.outputBytesPerLine=8),this.opToDecl={},Object.keys(e.default).forEach(t=>{let r=e.default[t];for(let n=0;n<r.length;n++){const e=r[n];null!==e&&(this.opToDecl[e]={mnemonic:t,decode:r})}})}flushBytes(){const t=u(this.bytes.bytes,this.outputBytesPerLine);let r=this.bytes.startPC;for(let n=0;n<t.length;n++,r+=this.outputBytesPerLine){const e=t[n].map(t=>i(t)).join(" ");this.output.push(`${o(r)}: ${e}`)}this.bytes.bytes=[]}disImm(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} #$${i(e)}`)}disZp(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} $${i(e)}`)}disZpX(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} $${i(e)},X`)}disZpY(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} $${i(e)},Y`)}disAbs(t,r){const n=this.curAddr,e=this.byte(),i=this.byte();this.print(n,[r,e,i],`${t} $${o(e+256*i)}`)}disAbsX(t,r){const n=this.curAddr,e=this.byte(),i=this.byte();this.print(n,[r,e,i],`${t} $${o(e+256*i)},X`)}disAbsY(t,r){const n=this.curAddr,e=this.byte(),i=this.byte();this.print(n,[r,e,i],`${t} $${o(e+256*i)},Y`)}disInd(t,r){const n=this.curAddr,e=this.byte(),i=this.byte();this.print(n,[r,e,i],`${t} ($${o(e+256*i)})`)}disIndX(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} ($${i(e)},X)`)}disIndY(t,r){const n=this.curAddr,e=this.byte();this.print(n,[r,e],`${t} ($${i(e)}),Y`)}disSingle(t,r){const n=this.curAddr;this.print(n,[r],`${t}`)}disBranch(t,r){const n=this.curAddr,e=this.byte(),i=n+(e>=128?-(256-e):e)+2;this.print(n,[r,e],`${t} $${o(i)}`)}disUnknown(t){0!==this.bytes.bytes.length?this.bytes.bytes.push(t):(this.bytes.bytes=[t],this.bytes.startPC=this.curAddr)}disassemble(){const t=this.buf.byteLength;let r=t=>!0;this.disasmOptions&&this.disasmOptions.isInstruction&&(r=this.disasmOptions.isInstruction);let n=this.curOffs;for(;this.curOffs<t;){this.curAddr+=this.curOffs-n,n=this.curOffs;const t=this.byte(),e=this.opToDecl[t];if(r(this.curAddr)&&void 0!==e){const r=e.decode.indexOf(t);if(0===r){this.disImm(e.mnemonic,t);continue}if(1===r){this.disZp(e.mnemonic,t);continue}if(2===r){this.disZpX(e.mnemonic,t);continue}if(3===r){this.disZpY(e.mnemonic,t);continue}if(4===r){this.disAbs(e.mnemonic,t);continue}if(5===r){this.disAbsX(e.mnemonic,t);continue}if(6===r){this.disAbsY(e.mnemonic,t);continue}if(7===r){this.disInd(e.mnemonic,t);continue}if(8===r){this.disIndX(e.mnemonic,t);continue}if(9===r){this.disIndY(e.mnemonic,t);continue}if(10===r){this.disSingle(e.mnemonic,t);continue}if(11===r){this.disBranch(e.mnemonic,t);continue}}else this.disUnknown(t)}return this.flushBytes(),this.output}}r.disassemble=function(t,r){return new s(t,r).disassemble()}}]);